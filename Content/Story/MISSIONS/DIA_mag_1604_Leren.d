//Exit in traders func's

// **************************************************
// 					hello
// **************************************************

INSTANCE DIA_Leren_Hello (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 1;
	condition		= DIA_Leren_Hello_Condition;
	information		= DIA_Leren_Hello_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_Hello_Condition()
{
// Ork: Tak mi sie przypomnia≥a ta rozmowa wyskakujπca w nieodpowiednim miejscu, w
// nie odpowiednim czasie co skonczy≥o siÍ zmianπ Rutyny i rozkurwieniem gry w piüdzieÊ :P
// *mam nadzieje ze to odp. WP (TODO / do sprawdzenia) i w miare dobry dystans
	if(Npc_GetDistToPlayer(self) < 200 && Npc_GetDistToWP(self,"WAY_PATHMAGE") < 1900)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Hello_Info()
{
	AI_Output (self, other, "DIA_Leren_Hello_11_00"); //Kolejny úmierdzπcy szczur szukajπcy szczÍúcia!
	AI_Output (other, self, "DIA_Leren_Hello_15_01"); //Nie jestem...
	AI_Output (self, other, "DIA_Leren_Hello_11_02"); //Zejdü mi z oczu, z≥odzieju!
	B_StopProcessInfos(self);
	Npc_ExchangeRoutine(self,"start");
	Npc_ExchangeRoutine(baalparvez,"start");
};

// **************************************************

INSTANCE DIA_Leren_Mag (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 2;
	condition		= DIA_Leren_Mag_Condition;
	information		= DIA_Leren_Mag_Info;
	permanent		= 0;
	important		= 0;
	description		= "Jesteú magiem?"; 
};

FUNC INT DIA_Leren_Mag_Condition()
{
	if (CAVALORN_ASK_TRAIL==2)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Mag_Info()
{
	AI_Output (other, self, "DIA_Leren_Mag_15_01"); //Jesteú magiem?
	AI_Output (self, other, "DIA_Leren_Mag_11_02"); //Jak na to wpad≥eú? Kolejny dureÒ, ktÛry traci mÛj bezcenny czas.
	AI_Output (other, self, "DIA_Leren_Mag_15_03"); //MogÍ Ci pomÛc.
	AI_Output (self, other, "DIA_Leren_Mag_11_04"); //Ty? A niby w czym?
	AI_Output (other, self, "DIA_Leren_Mag_15_05"); //Jesteúmy w Kolonii, a tutaj kaødy mniej lub bardziej potrzebuje czyjejú pomocy. No wiesz, 'przynieú, zabij, spal, zgwa≥Ê' i takie tam.
	AI_Output (self, other, "DIA_Leren_Mag_11_06"); //Hmm, moøe jednak warto poúwiÍciÊ Ci chwilkÍ.
	AI_Output (self, other, "DIA_Leren_Mag_11_07"); //A czego øπdasz w zamian?
	AI_Output (other, self, "DIA_Leren_Mag_15_08"); //Podzielisz siÍ ze mnπ swojπ wiedzπ. ChcÍ poznaÊ arkana magii.
	AI_Output (self, other, "DIA_Leren_Mag_11_09"); //Jednak jesteú g≥upcem! Nie kaødy moøe zostaÊ magiem. Myúlisz, øe to takie proste? Formu≥ka i bach kula ognia!
	AI_Output (self, other, "DIA_Leren_Mag_11_10"); //To lata zg≥Íbiania tajemnej wiedzy, medytacja, ofiary poúwiÍcone bogom, prÛby cia≥a jak i ducha, droga do doskona≥oúci, a w koÒcu...
	AI_Output (other, self, "DIA_Leren_Mag_15_11"); //PrzestaÒ pieprzyÊ. Wszystkiego moøna siÍ nauczyÊ, rÛwnie dobrze moøe to byÊ robienie lewatywy, co rzucenie kuli ognia. 
	AI_Output (other, self, "DIA_Leren_Mag_15_12"); //Wszystko zaleøy od motywacji i determinacji, a mi nie brakuje jednego ani drugiego. WiÍc jak bÍdzie?
	AI_Output (self, other, "DIA_Leren_Mag_11_13"); //No dobra, nauczÍ CiÍ kilku sztuczek, ale najpierw coú dla mnie zrobisz.
	AI_Output (other, self, "DIA_Leren_Mag_15_14"); //W≥aúnie po to tu jestem.
	AI_Output (self, other, "DIA_Leren_Mag_11_15"); //Widzisz, jestem naukowcem, wizjonerem i kolekcjonerem.
	AI_Output (self, other, "DIA_Leren_Mag_11_16"); //Od zawsze fascynowa≥y mnie przedmioty poúwiÍcone bogom, emanujπce mocπ, naznaczone magiπ...
	AI_Output (other, self, "DIA_Leren_Mag_15_17"); //Czyli artefakty. Moøe i jestem piratem, ale nie jestem idiotπ.
	AI_Output (self, other, "DIA_Leren_Mag_11_18"); //Tak, artefakty. Tak siÍ sk≥ada, øe wyczu≥em aurÍ takiego przedmiotu w úwiπtyni orkÛw.
	AI_Output (other, self, "DIA_Leren_Mag_15_19"); //Juø powiedzia≥em, øe nie jestem idiotπ. Nie pÛjdÍ po jakieú úwiecide≥ko do úwiπtyni pe≥nej orkÛw.
	AI_Output (self, other, "DIA_Leren_Mag_11_20"); //Ale tam juø od dawna ich nie ma. To stara, zrujnowana úwiπtynia. Cuchnie úmierciπ i szczurzymi odchodami. Poczujesz siÍ tam jak w domu.
	AI_Output (self, other, "DIA_Leren_Mag_11_21"); //Znajdziesz tam przedmiot o potÍønej aurze, ale nie moøesz go uøyÊ! Przynieú go do mnie, to dobijemy targu.
	
   if (mag_knows == FALSE)
	{
		mag_knows = TRUE;
		Log_CreateTopic(CH2_RBL_Magic, LOG_MISSION);
		Log_SetTopicStatus(CH2_RBL_Magic, LOG_RUNNING);
	};
		
   B_LogEntry(CH2_RBL_Magic, "Leren nauczy mnie kilku magicznych sztuczek, jeøeli przyniosÍ mu jakiú magiczny artefakt ze zrujnowanej úwiπtyni orkÛw.");
   B_StopProcessInfos(self);
};

// **************************************************
INSTANCE DIA_Leren_CanYouTeachMe (C_INFO)
{
	npc				=  mag_1604_Leren;
	nr				= 4;
	condition		= DIA_Leren_CanYouTeachMe_Condition;
	information		= DIA_Leren_CanYouTeachMe_Info;
	permanent		= 0;
	important		= 0;
	description		= "Moøesz mnie czegoú nauczyÊ?"; 
};

FUNC INT DIA_Leren_CanYouTeachMe_Condition()
{
	if (Npc_KnowsInfo(hero, DIA_Leren_Mag))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_CanYouTeachMe_Info()
{
   AI_Output (other, self, "DIA_Leren_CanYouTeachMe_15_01"); //Moøesz mnie czegoú nauczyÊ?
   AI_Output (self, other, "DIA_Leren_CanYouTeachMe_15_02"); //MogÍ nauczyÊ ciÍ, jak zwiÍkszyÊ duchowπ si≥Í i jak regenerowaÊ manÍ. 
   AI_Output (self, other, "DIA_Leren_CanYouTeachMe_15_03"); //Kiedy zostaniesz magiem, przekaøÍ ci wiedzÍ dotyczπcπ piÍciu krÍgÛw.
   
   Log_CreateTopic(GE_TeacherOR, LOG_NOTE);
   B_LogEntry(GE_TeacherOR, "Leren moøe mi pomÛc zwiÍkszyÊ manÍ i jπ zregenerowaÊ. Jak zostanÍ magiem, to nauczy mnie teø magicznych sztuczek.");
};

INSTANCE DIA_Leren_Mag1 (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 3;
	condition		= DIA_Leren_Mag1_Condition;
	information		= DIA_Leren_Mag1_Info;
	permanent		= 0;
	important		= 0;
	description		= "Dobra, pÛjdÍ do tej úwiπtyni."; 
};

FUNC INT DIA_Leren_Mag1_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_Mag))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Mag1_Info()
{
	AI_Output (other, self, "DIA_Leren_Mag1_15_01"); //Dobra, pÛjdÍ do tej úwiπtyni.
	AI_Output (self, other, "DIA_Leren_Mag1_11_02"); //Wiedzia≥em, øe znajdziesz w sobie wystarczajπca odwagÍ, aby...
	AI_Output (other, self, "DIA_Leren_Mag1_15_03"); //Daruj sobie. Gdzie ta kupa gruzu?
	
	//orc-edytowany dialog, swiatynia jest blisko wiec Leren tlumaczy tylko jak dotrzec
	AI_Output (self, other, "DIA_Leren_Mag1_11_04"); //åwiπtynia znajdujÍ siÍ niedaleko.
	AI_Output (self, other, "DIA_Leren_Mag1_11_05");//Przejdü pod mostem, omiÒ zagrodÍ Snafa i idü ca≥y czas na wprost. Dotrzesz do dawnej orkowej areny. 
	AI_Output (self, other, "DIA_Leren_Mag1_11_06"); //Tam znajdziesz artefakt.
	AI_Output (other, self, "DIA_Leren_Mag1_15_07"); //Komu w drogÍ temu czas.

	Wld_insertItem(ItArArifact_01, "WP_ORNAMENT");

	Log_CreateTopic(CH2_RBL_Artefact, LOG_MISSION);
	Log_SetTopicStatus(CH2_RBL_Artefact, LOG_RUNNING);
	B_LogEntry(CH2_RBL_Artefact, "Leren wskaza≥ mi drogÍ do úwiπtyni orkÛw. Mam tam odnaleüÊ jakiú artefakt i przynieúÊ go magowi. Powinno pÛjúÊ doúÊ ≥atwo, o ile tam faktycznie nie ma øywych orkÛw.");
};

// **************************************************

INSTANCE DIA_Leren_Mag2 (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 3;
	condition		= DIA_Leren_Mag2_Condition;
	information		= DIA_Leren_Mag2_Info;
	permanent		= 0;
	important		= 0;
	description		= "To ten artefakt?"; 
};

FUNC INT DIA_Leren_Mag2_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_Mag1))&&(NPC_HasItems(hero,dusk_power)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Mag2_Info()
{
	mag_prove = mag_prove + 1;
	B_GiveXP(800);
	AI_Output (other, self, "DIA_Leren_Mag2_15_01"); //To ten artefakt?
	AI_Output (self, other, "DIA_Leren_Mag2_11_02"); //Na ow≥osione jaja Beliara, uda≥o Ci siÍ!
	AI_Output (other, self, "DIA_Leren_Mag2_15_03"); //Zabi≥em przy tym pewnego rozgadanego umarlaka...
	AI_Output (self, other, "DIA_Leren_Mag2_11_04"); //Niewaøne, daj mi relikt!
	B_GiveInvItems (other, self, dusk_power,1);
	AI_Output (other, self, "DIA_Leren_Mag2_15_05"); //A co z naukπ?
	AI_Output (self, other, "DIA_Leren_Mag2_11_06"); //PÛüniej o tym pogadamy! 
	AI_Output (self, other, "DIA_Leren_Mag2_11_07"); //Teraz muszÍ zg≥ÍbiÊ tajemnicÍ tego wspania≥ego dziedzictwa orkÛw...
	
   Log_SetTopicStatus(CH2_RBL_Artefact, LOG_SUCCESS);
	B_LogEntry(CH2_RBL_Artefact, "Odda≥em Lerenowui zorzÍ, tylko, øe ten zamiast mnie czegoú nauczyÊ, zaczπ≥ úliniÊ siÍ na widok artefaktu. Coraz bardziej dziwiÍ siÍ tym, ktÛrzy dobrowolnie zostajπ magami.");
	B_StopProcessInfos(self);
};

// **************************************************

INSTANCE DIA_Leren_Next (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 4;
	condition		= DIA_Leren_Next_Condition;
	information		= DIA_Leren_Next_Info;
	permanent		= 0;
	important		= 0;
	description		= "Jestem juø gotÛw na naukÍ!"; 
};

FUNC INT DIA_Leren_Next_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Milten_Ask))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Next_Info()
{
	AI_Output (other, self, "DIA_Leren_Next_15_01"); //Jestem juø gotÛw na naukÍ!
	AI_Output (self, other, "DIA_Leren_Next_11_02"); //Ale ja nie jestem jeszcze na to przygotowany.
	AI_Output (other, self, "DIA_Leren_Next_15_03"); //Rozmawia≥em z Miltenem...
	AI_Output (self, other, "DIA_Leren_Next_11_04"); //Wiem, przynios≥eú mu wszystkie sk≥adniki do wywarÛw. Wytrwa≥y z Ciebie skurczybyk.
	AI_Output (other, self, "DIA_Leren_Next_15_05"); //WiÍc jak bÍdzie z naukπ?
	AI_Output (self, other, "DIA_Leren_Next_11_06"); //Z chÍciπ pokaza≥bym Ci kilka sztuczek, ale ürÛd≥a sπ teraz bardzo niestabilne.
	AI_Output (other, self, "DIA_Leren_Next_15_07"); //Jakie ürÛd≥a?
	AI_Output (self, other, "DIA_Leren_Next_11_08"); //èrÛd≥a magii g≥upcze! A skπd mam czerpaÊ energiÍ, z onuc?
	AI_Output (self, other, "DIA_Leren_Next_11_09"); //Jakiú czas temu skradziono cholernπ TritetrÍ. Od tej chwili magowie w Kolonii majπ problem ze zogniskowaniem mocy.
	AI_Output (other, self, "DIA_Leren_Next_15_10"); //Co to za Tritetra?
	AI_Output (self, other, "DIA_Leren_Next_11_11"); //To dwanaúcie úwiÍtych posπøkÛw. Kaødy z nich zosta≥ konsekrowany na o≥tarzu w Wielkiej åwiπtyni jakiegoú boga.
	AI_Output (other, self, "DIA_Leren_Next_15_12"); //Beliara teø?
	AI_Output (self, other, "DIA_Leren_Next_11_13"); //Oczywiúcie. Tritetra jest bardzo stara, nie mam pojÍcia, jak siÍ tutaj znalaz≥a. Ale jej po≥πczona moc mog≥aby zniszczyÊ barierÍ, a przy okazji wszystkich skazaÒcÛw.
	AI_Output (self, other, "DIA_Leren_Next_11_14"); //Ten ktoú musia≥ wiedzieÊ, co robi. Zdo≥a≥em wyúledziÊ miejsca, gdzie ukryto figurki. Rozrzucono je po ca≥ej Kolonii.
	AI_Output (other, self, "DIA_Leren_Next_15_15"); //Dlaczego ktoú mia≥by to robiÊ?
	AI_Output (self, other, "DIA_Leren_Next_11_16"); //Figurki przechowywane by≥y w starych grobowcach, spoczywali tam bohaterowie kaødego z bogÛw. Ich nieumar≥e aspekty strzeg≥y posπøkÛw.
	AI_Output (self, other, "DIA_Leren_Next_11_17"); //Jednak ktoú na tyle szalony by rzuciÊ wyzwanie bogom, skrad≥ posπøki i zniszczy≥ straønikÛw.
	AI_Output (self, other, "DIA_Leren_Next_11_18"); //Ale øaden úmiertelnik nie jest w stanie przenieúÊ sam wszystkich posπøkÛw. Ich moc jest zbyt potÍøna, zniszczy≥aby kaødego úmia≥ka.
	AI_Output (other, self, "DIA_Leren_Next_15_19"); //Dlatego porozrzuca≥ je po Kolonii?
	AI_Output (self, other, "DIA_Leren_Next_11_20"); //Raczej ukry≥ w rÛønych miejscach. Nie przewidzia≥ tylko jednego, øe figurki zechcπ mu siÍ sprzeciwiÊ.
	AI_Output (other, self, "DIA_Leren_Next_15_21"); //A motywy?
	AI_Output (self, other, "DIA_Leren_Next_11_22"); //Tego nigdy siÍ nie dowiemy. Znalaz≥em szczπtki tego g≥upca, a przy nim pierúcieÒ z akwamarynem.
	AI_Output (other, self, "DIA_Leren_Next_15_23"); //Akwamaryn? Moøe to symbol jakiejú organizacji albo sekty?
	AI_Output (self, other, "DIA_Leren_Next_11_24"); //Moøliwe. Ale tajemnice to specjalnoúÊ Miltena. Pogadaj z nim o pierúcieniu. Dla mnie najwaøniejsze sπ posπøki.
	AI_Output (other, self, "DIA_Leren_Next_15_25"); //Mam je odnaleüÊ?
	AI_Output (self, other, "DIA_Leren_Next_11_26"); //Raczej przynieúÊ, bo okreúli≥em juø po≥oøenie kaødej z figurek. Przyniesiesz posπøki w okreúlonej kolejnoúci, inaczej mÛg≥byú przep≥aciÊ to øyciem.
	AI_Output (self, other, "DIA_Leren_Next_11_27"); //WiÍc jak bÍdzie?
};

// **************************************************

INSTANCE DIA_Leren_Next1 (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 5;
	condition		= DIA_Leren_Next1_Condition;
	information		= DIA_Leren_Next1_Info;
	permanent		= 0;
	important		= 0;
	description		= "W porzπdku, przyniosÍ posπøki."; 
};

FUNC INT DIA_Leren_Next1_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_Next))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Next1_Info()
{
	AI_Output (other, self, "DIA_Leren_Next1_15_01"); //W porzπdku, przyniosÍ posπøki.
	AI_Output (self, other, "DIA_Leren_Next1_11_02"); //Nie traÊmy wiÍc czasu na zbÍdne k≥apanie gÍbπ. PosπøkÛw jest dwanaúcie, po cztery dla kaødego boga. 
	AI_Output (other, self, "DIA_Leren_Next1_15_03"); //Dlaczego akurat po cztery?
	AI_Output (self, other, "DIA_Leren_Next1_11_04"); //Bo tyle jest stron úwiata g≥upcze! No i tyle jest teø Wielkich åwiπtyÒ konsekrowanych kaødemu z bogÛw.
	AI_Output (self, other, "DIA_Leren_Next1_11_05"); //Jako pierwszπ przynieú figurkÍ Beliara. Znajdziesz jπ gdzieú na wybrzeøu, tam gdzie morze wyrzuci≥o was na brzeg.
	AI_Output (self, other, "DIA_Leren_Next1_11_06"); //Tylko uwaøaj, figurka jest przesycona magiπ Beliara. FigurkÍ jak najszybciej przynieú do mnie.
	AI_Output (other, self, "DIA_Leren_Next1_15_07"); //W porzπdku.

	/*****************************
	Ork jakiú WP mu daj
	***************************/
	MIS_Tritetra_on=1;
	Wld_InsertNpc(SkeletonMage_Beliar,"OW_COAST_SHIPWRECK_WARAN_2");
	Log_CreateTopic(CH2_RBL_Tritetra, LOG_MISSION);
	Log_SetTopicStatus(CH2_RBL_Tritetra, LOG_RUNNING);
	B_LogEntry(CH2_RBL_Tritetra, "MuszÍ przynieúÊ Lerenowi TritetrÍ - dwanaúcie posπøkÛw poúwiÍconych kaødemu z bogÛw. Mam zaczπÊ od posπøka Beliara ukrytego gdzieú na plaøy.");
	MIS_Tritetra_innos_counter_max=60;
	MIS_Tritetra_adanos_counter_max=50;
};

// **************************************************

INSTANCE DIA_Leren_FirstBeliar (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 5;
	condition		= DIA_Leren_FirstBeliar_Condition;
	information		= DIA_Leren_FirstBeliar_Info;
	permanent		= 0;
	important		= 0;
	description		= "Zabierz ode mnie to cholerstwo!"; 
};

FUNC INT DIA_Leren_FirstBeliar_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Mag_Beliar_HelloAgain))&&(NPC_HasItems(other,tri_beliar_statue)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_FirstBeliar_Info()
{
	B_GiveXP (500);
	
   AI_Output (other, self, "DIA_Leren_FirstBeliar_15_01"); //Zabierz ode mnie to cholerstwo!
	AI_Output (self, other, "DIA_Leren_FirstBeliar_11_02"); //Cuchnie samym Beliarem, daj to natychmiast!
	
   B_GiveInvItems (other, self, tri_beliar_statue, 1);
	Npc_RemoveInvItems(self,tri_beliar_statue,1);
	
   AI_Output (self, other, "DIA_Leren_FirstBeliar_11_03"); //OdniosÍ posπøek tam, gdzie jego moc nikomu nie zaszkodzi.
	
   B_LogEntry(CH2_RBL_Tritetra, "Odda≥em pierwszy posπøek Beliara Lerenowi. Czu≥em siÍ, jakby to paskudztwo ch≥epta≥o moja krew.");
	B_StopProcessInfos(self);
	AI_GotoWP(self, "WP_GO");
	AI_GotoWP(self, "WP_BACK");
};

// **************************************************

INSTANCE DIA_Leren_FirstInnos (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 6;
	condition		= DIA_Leren_FirstInnos_Condition;
	information		= DIA_Leren_FirstInnos_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_FirstInnos_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_FirstBeliar ))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_FirstInnos_Info()
{
	AI_Output (self, other, "DIA_Leren_FirstInnos_11_01"); //Teraz przynieú mi posπøek Innosa, znajdziesz go na Placu Wymian.
	AI_Output (other, self, "DIA_Leren_FirstInnos_15_02"); //Na Placu Wymian? A co to za miejsce?
	AI_Output (self, other, "DIA_Leren_FirstInnos_11_03"); //To pierwsze co widzπ skazaÒcy trafiajπc do Kolonii. 
	AI_Output (self, other, "DIA_Leren_FirstInnos_11_04"); //Ruszajπc ze Starego Obozu w stronÍ kopalni Iana, skrÍÊ w prawo i idü ca≥y czas úcieøkπ w gÛrÍ. Na koÒcu drogi znajdziesz niewielkπ nieckÍ i placyk. To jest w≥aúnie Plac Wymian.
	B_LogEntry(CH2_RBL_Tritetra, "Kolejny posπøek, tym razem poúwiÍcony Innosowi, odnajdÍ na Placu Wymian.");
	Wld_InsertNpc(GreenGobboGarbus,"WP_INTRO_FALL3");
};

// **************************************************

INSTANCE DIA_Leren_FirstInnos1 (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 7;
	condition		= DIA_Leren_FirstInnos1_Condition;
	information		= DIA_Leren_FirstInnos1_Info;
	permanent		= 0;
	important		= 0;
	description		= "Oto posπøek Innosa."; 
};

FUNC INT DIA_Leren_FirstInnos1_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Garbus_HelloAgain))&&(NPC_HasItems(other,tri_innos_statue)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_FirstInnos1_Info()
{
	B_GiveXP (500);
	AI_Output (other, self, "DIA_Leren_FirstInnos1_15_01"); //Oto posπøek Innosa.
	AI_Output (self, other, "DIA_Leren_FirstInnos1_11_02"); //Wyúmienicie. UwolniÍ CiÍ od tego ciÍøaru.
   
	B_GiveInvItems (other, self, tri_innos_statue, 1);
	Npc_RemoveInvItems(self,tri_innos_statue,1);
   
	B_LogEntry(CH2_RBL_Tritetra, "Odda≥em Lerenowi posπøek Innosa.");

	B_StopProcessInfos(self);
	AI_GotoWP(self, "WP_GO");
	AI_GotoWP(self, "WP_BACK");
};

// **************************************************

INSTANCE DIA_Leren_FirstAdan (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 8;
	condition		= DIA_Leren_FirstAdan_Condition;
	information		= DIA_Leren_FirstAdan_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_FirstAdan_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_FirstInnos1))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_FirstAdan_Info()
{
	AI_Output (self, other, "DIA_Leren_FirstAdan_11_01"); //Teraz wyruszysz po posπøek Adanosa. Poszukaj w pobliøu kamiennej twierdzy.
	AI_Output (other, self, "DIA_Leren_FirstAdan_15_02"); //Dobrze.
	
   B_LogEntry(CH2_RBL_Tritetra, "Pierwszy posπøek Adanosa odnajdÍ w pobliøu kamiennej twierdzy.");
	Wld_InsertNpc(Wisp_Adan,"PATH_TO_PLATEAU04_BRIDGE2");
};

// **************************************************

INSTANCE DIA_Leren_AdanosFirst (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 9;
	condition		= DIA_Leren_AdanosFirst_Condition;
	information		= DIA_Leren_AdanosFirst_Info;
	permanent		= 0;
	important		= 0;
	description		= "Przynios≥em posπøek Adanosa."; 
};

FUNC INT DIA_Leren_AdanosFirst_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Garbus_HelloAgain))&&(NPC_HasItems(other,tri_adan_statue)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_AdanosFirst_Info()
{
	B_GiveXP (500);
	AI_Output (other, self, "DIA_Leren_AdanosFirst_15_01"); //Przynios≥em posπøek Adanosa.
	AI_Output (self, other, "DIA_Leren_AdanosFirst_11_02"); //åwietnie, zaczynam wierzyÊ, øe zdo≥asz odzyskaÊ ca≥π TritetrÍ.
   
	B_GiveInvItems (other, self, tri_adan_statue, 1);
	Npc_RemoveInvItems(self,tri_adan_statue,1);
	B_LogEntry(CH2_RBL_Tritetra, "Odda≥em Lerenowi posπøek Adanosa.");

	B_StopProcessInfos(self);
	AI_GotoWP(self, "WP_GO");
	AI_GotoWP(self, "WP_BACK");
};

// **************************************************

INSTANCE DIA_Leren_NextStatu (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 9;
	condition		= DIA_Leren_NextStatu_Condition;
	information		= DIA_Leren_NextStatu_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_NextStatu_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_AdanosFirst ))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_NextStatu_Info()
{
	AI_Output (self, other, "DIA_Leren_NextStatu_11_01"); //Czas na kolejnπ prÛbÍ. Niestety mam z≥e wieúci.
	AI_Output (other, self, "DIA_Leren_NextStatu_15_02"); //Co siÍ sta≥o?
	AI_Output (self, other, "DIA_Leren_NextStatu_11_03"); //Bogowie postanowili pokrzyøowaÊ nam plany. Posπøki siÍ po≥πczy≥y, powsta≥y trzy pary i jedna trÛjca.
	AI_Output (other, self, "DIA_Leren_NextStatu_15_04"); //Rzeczywiúcie bÍdzie trudniej. Ale musimy sprÛbowaÊ.
	AI_Output (other, self, "DIA_Leren_NextStatu_15_05"); //Poza tym ja zawsze koÒczÍ to, co zaczynam. MÛw, co robimy.
	AI_Output (self, other, "DIA_Leren_NextStatu_11_06"); //Dwa posπøki, poúwiÍcone Beliarowi i Innosowi znajdziesz w pobliøu orkowego cmentarzyska.
	AI_Output (self, other, "DIA_Leren_NextStatu_11_07"); //Tylko uwaøaj, po≥πczona moc figurek moøe CiÍ z ≥atwoúciπ zabiÊ.
	AI_Output (other, self, "DIA_Leren_NextStatu_15_08"); //Bez obaw, ostroønoúÊ to moje drugie imiÍ.

	B_LogEntry(CH2_RBL_Tritetra, "Dwa posπøki - Beliara i Innosa, znajdÍ gdzieú na bagnach.");
	B_StopProcessInfos(self);
	var C_NPC BeliarSke; BeliarSke=Hlp_GetNpc(SkeletonMage_Beliar);
	Npc_ExchangeRoutine(BeliarSke,"GRAVEYARD");
};

// **************************************************

INSTANCE DIA_Leren_FirstTwo (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 10;
	condition		= DIA_Leren_FirstTwo_Condition;
	information		= DIA_Leren_FirstTwo_Info;
	permanent		= 0;
	important		= 0;
	description		= "Mam pierwszπ parÍ!"; 
};

FUNC INT DIA_Leren_FirstTwo_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Mag_Beliar_Hello))&&(NPC_HasItems(other,tri_beliar_statue)>=1)&&(NPC_HasItems(other,tri_innos_statue)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_FirstTwo_Info()
{
	B_GiveXP (800);
	AI_Output (other, self, "DIA_Leren_FirstTwo_15_01"); //Mam pierwszπ parÍ!
	AI_Output (self, other, "DIA_Leren_FirstTwo_11_02"); //Podo≥a≥eú kolejnej prÛbie, przekaø mi swoje brzemiÍ.
   
	B_GiveInvItems (other, self, tri_beliar_statue, 1);
	Npc_RemoveInvItems(self,tri_beliar_statue,1);
	B_GiveInvItems (other, self, tri_innos_statue, 1);
	Npc_RemoveInvItems(self,tri_innos_statue,1);
   
	B_LogEntry(CH2_RBL_Tritetra, "Oddda≥em Lerenowi posπøek Innosa i Beliara.");

	B_StopProcessInfos(self);
	AI_GotoWP(self, "WP_GO");
	AI_GotoWP(self, "WP_BACK");
};

// **************************************************

INSTANCE DIA_Leren_NextTwo (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 11;
	condition		= DIA_Leren_NextTwo_Condition;
	information		= DIA_Leren_NextTwo_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_NextTwo_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_FirstTwo))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_NextTwo_Info()
{
	AI_Output (self, other, "DIA_Leren_NextTwo_11_01"); //Kolejnπ parÍ znajdziesz w pobliøu wejúcia do Starej Kopalni. Tym razem bÍdπ to dwa posπøki Adanosa.
	AI_Output (other, self, "DIA_Leren_NextTwo_15_02"); //Juø nie mogÍ siÍ doczekaÊ...
	
   B_LogEntry(CH2_RBL_Tritetra, "Kolejna para posπøkÛw 'czeka' na mnie w pobliøu Starej Kopalni.");
	B_StopProcessInfos(self);
	var C_NPC Adanos_wisp; Adanos_wisp=Hlp_GetNpc(Wisp_Adan);	
	Npc_ExchangeRoutine(Adanos_wisp,"MINE");
};

// **************************************************

INSTANCE DIA_Leren_TwoAdan (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 12;
	condition		= DIA_Leren_TwoAdan_Condition;
	information		= DIA_Leren_TwoAdan_Info;
	permanent		= 0;
	important		= 0;
	description		= "Oto posπøki Adanosa."; 
};

FUNC INT DIA_Leren_TwoAdan_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Iskra_Pair1))&&(NPC_HasItems(other,tri_adan_statue)>=2)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_TwoAdan_Info()
{
	B_GiveXP (800);
	AI_Output (other, self, "DIA_Leren_TwoAdan_15_01"); //Oto posπøki Adanosa.
	AI_Output (self, other, "DIA_Leren_TwoAdan_11_02"); //PrzyjmÍ je i odniosÍ w bezpieczne miejsce.
	
   B_GiveInvItems (other, self, tri_adan_statue, 2);
	Npc_RemoveInvItems(self,tri_adan_statue,2);

	B_LogEntry(CH2_RBL_Tritetra, "Odda≥em Lerenowi dwa posπøki Adanosa.");

	B_StopProcessInfos(self);
	AI_GotoWP(self, "WP_GO");
	AI_GotoWP(self, "WP_BACK");
};

// **************************************************

INSTANCE DIA_Leren_LastTwo (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 13;
	condition		= DIA_Leren_LastTwo_Condition;
	information		= DIA_Leren_LastTwo_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_LastTwo_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_TwoAdan))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_LastTwo_Info()
{
	AI_Output (self, other, "DIA_Leren_LastTwo_11_01"); //To juø ostatnia dwÛjka. To dziwne, ale znalaz≥ jπ jakiú skazaniec. Szukaj go przed po≥udniowym wejúciem do Starego Obozu.
	AI_Output (other, self, "DIA_Leren_LastTwo_15_02"); //Mam nadziejÍ, øe nie zaniesie ich Gomezowi.
	AI_Output (self, other, "DIA_Leren_LastTwo_11_03"); //To by≥oby niefortunne. Ruszaj jak najszybciej.
	
   B_LogEntry(CH2_RBL_Tritetra, "Ostatnia para posπøkÛw znajduje siÍ w posiadaniu jakiegoú cz≥owieka. Mam go szukaÊ przed po≥udniowym wejúciem do Starego Obozu.");
	Wld_InsertNpc(HUN_4035_Jahr,"OC_ROUND_13");
};

// **************************************************

INSTANCE DIA_Leren_LastTwoFinish (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 14;
	condition		= DIA_Leren_LastTwoFinish_Condition;
	information		= DIA_Leren_LastTwoFinish_Info;
	permanent		= 0;
	important		= 0;
	description		= "Mam ostatniπ parÍ."; 
};

FUNC INT DIA_Leren_LastTwoFinish_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_hun_4035_jahr_Hello))&&(NPC_HasItems(other,tri_beliar_statue)>=1)&&(NPC_HasItems(other,tri_innos_statue)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_LastTwoFinish_Info()
{
	B_GiveXP (800);
	AI_Output (other, self, "DIA_Leren_LastTwoFinish_15_01"); //Mam ostatniπ parÍ.
	AI_Output (self, other, "DIA_Leren_LastTwoFinish_11_02"); //Juø je zabieram.
	
   B_GiveInvItems (other, self, tri_beliar_statue, 1);
	Npc_RemoveInvItems(self,tri_beliar_statue,1);
	B_GiveInvItems (other, self, tri_innos_statue, 1);
	Npc_RemoveInvItems(self,tri_innos_statue,1);
   
	B_LogEntry(CH2_RBL_Tritetra, "Znowu odda≥em Lerenowi posπøek Innosa i Beliara.");

	B_StopProcessInfos(self);
	AI_GotoWP(self, "WP_GO");
	AI_GotoWP(self, "WP_BACK");
};

// **************************************************

INSTANCE DIA_Leren_LastThree (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 15;
	condition		= DIA_Leren_LastThree_Condition;
	information		= DIA_Leren_LastThree_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_LastThree_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_LastTwoFinish))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_LastThree_Info()
{
	AI_Output (self, other, "DIA_Leren_LastThree_11_01"); //Nie mamy czasu do stracenia. Zosta≥y ostatnie trzy posπøki. 
	AI_Output (other, self, "DIA_Leren_LastThree_15_02"); //Gdzie je znajdÍ?
	AI_Output (self, other, "DIA_Leren_LastThree_11_03"); //Gdzieú w jaskini nieopodal wejúcia na terytorium orkÛw.
	AI_Output (self, other, "DIA_Leren_LastThree_11_04"); //BÍdÍ z Tobπ szczery. Z tego co wiem, jeszcze øaden úmiertelnik nie zdo≥a≥ zdzierøyÊ mocy trzech statuetek.
	AI_Output (other, self, "DIA_Leren_LastThree_15_05"); //WiÍc lepiej mÛdl siÍ o to, øebym by≥ pierwszy. Ruszam.
	AI_Output (self, other, "DIA_Leren_LastThree_11_06"); //Niech CiÍ Innos strzeøe.
	AI_Output (other, self, "DIA_Leren_LastThree_15_07"); //Wola≥bym raczej, øeby øaden z bogÛw nie zwraca≥ na mnie uwagi.
	
   B_LogEntry(CH2_RBL_Tritetra, "Czeka mnie wyprawa po ostatnie trzy posπøki. ZnajdÍ je gdzieú w jaskini nieopodal wejúcia na orkowe tereny.");
	B_StopProcessInfos(self);	
	var C_NPC Adanos_wisp; Adanos_wisp=Hlp_GetNpc(Wisp_Adan);	
	Npc_ExchangeRoutine(Adanos_wisp,"Cave");	
};

// **************************************************

INSTANCE DIA_Leren_LastThreeFinish (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 16;
	condition		= DIA_Leren_LastThreeFinish_Condition;
	information		= DIA_Leren_LastThreeFinish_Info;
	permanent		= 0;
	important		= 0;
	description		= "Oto ostatnie posπøki!"; 
};

FUNC INT DIA_Leren_LastThreeFinish_Condition()
{
	if (NPC_HasItems(other,tri_beliar_statue)>=1)&&(NPC_HasItems(other,tri_innos_statue)>=1)&&(NPC_HasItems(other,tri_adan_statue)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_LastThreeFinish_Info()
{
	AI_Output (other, self, "DIA_Leren_LastThreeFinish_15_01"); //Oto ostatnie posπøki!
	AI_Output (self, other, "DIA_Leren_LastThreeFinish_11_02"); //Dokona≥o siÍ. Obym zdo≥a≥ donieúÊ je na miejsce...
   
	B_GiveInvItems (other, self, tri_beliar_statue, 1);
	Npc_RemoveInvItems(self,tri_beliar_statue,1);
	B_GiveInvItems (other, self, tri_innos_statue, 1);
	Npc_RemoveInvItems(self,tri_innos_statue,1);
	B_GiveInvItems (other, self, tri_adan_statue, 1);
	Npc_RemoveInvItems(self,tri_adan_statue,1);
   
	B_LogEntry(CH2_RBL_Tritetra, "Odda≥em Lerenowi ostatnie trzy posπøki.");

	B_StopProcessInfos(self);
	AI_GotoWP(self, "WP_GO");
	AI_GotoWP(self, "WP_BACK");
};

// **************************************************

INSTANCE DIA_Leren_LastThreeFinish1 (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 17;
	condition		= DIA_Leren_LastThreeFinish1_Condition;
	information		= DIA_Leren_LastThreeFinish1_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_LastThreeFinish1_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Leren_LastThreeFinish))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_LastThreeFinish1_Info()
{
	B_GiveXP (1500);
	
   AI_Output (self, other, "DIA_Leren_LastThreeFinish1_11_01"); //Trudno mi w to uwierzyÊ. Tritetra znowu jest po≥πczona!
	AI_Output (other, self, "DIA_Leren_LastThreeFinish1_15_02"); //Co zamierzasz uczyniÊ?
	AI_Output (self, other, "DIA_Leren_LastThreeFinish1_11_03"); //O to siÍ nie k≥opotaj, przyjacielu. Dowiesz siÍ wszystkiego w swoim czasie.
	AI_Output (self, other, "DIA_Leren_LastThreeFinish1_11_04"); //Nied≥ugo rozpoczniemy naukÍ magii. Jednak najpierw idü porozmawiaj z Ratfordem.
	
   Log_SetTopicStatus(CH2_RBL_Tritetra, LOG_SUCCESS);
	B_LogEntry(CH2_RBL_Tritetra, "Tritetra znowu jest jednoúciπ. Leren nie zdradzi≥ co magowie zamierzajπ uczyniÊ z jej mocπ. Powiedzia≥, øe nied≥ugo rozpoczniemy naukÍ magii. Aha i mam porozmawiaÊ z Ratfordem.");
	B_StopProcessInfos(self);	
	MIS_Tritetra_on=0;
};

// **************************************************

INSTANCE DIA_Leren_Eqqupiment (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 18;
	condition		= DIA_Leren_Eqqupiment_Condition;
	information		= DIA_Leren_Eqqupiment_Info;
	permanent		= 0;
	important		= 0;
	description		= "Przyby≥em po szatÍ maga."; 
};

FUNC INT DIA_Leren_Eqqupiment_Condition()
{
	if (other.guild == GIL_MAG)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Eqqupiment_Info()
{
	AI_Output (other, self, "DIA_Leren_Eqqupiment_15_01"); //Przyby≥em po szatÍ maga.
	AI_Output (self, other, "DIA_Leren_Eqqupiment_11_02"); //Przyby≥eú? No dobra, weü te ≥achy. Zosta≥y po jednym pechowcu, co rzuca≥ w orkÛw kulami ognia.
	AI_Output (self, other, "DIA_Leren_Eqqupiment_11_03"); //Krew i fekalia na szacie juø prawie zasch≥y. Niech Ci s≥uøy lepiej niø jemu.
	AI_Output (self, other, "DIA_Leren_Eqqupiment_11_04"); //Aha i dam Ci dobrπ radÍ - wypierz te szmaty, zanim je za≥oøysz!

	CreateInvItem(other, MAG_ARMOR_L);
	CreateInvItem(self, MAG_ARMOR_L);
	B_GiveInvItems(self, other, MAG_ARMOR_L, 1);
	AI_EquipArmor(other, MAG_ARMOR_L);

	B_eqquip_check_mag();
	
   B_LogEntry(CH3_RBL_Choose, "Otrzyma≥em od Lerena szatÍ maga.");
	B_StopProcessInfos(self);
};

// **************************************************

INSTANCE DIA_Leren_OldNote (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 190;
	condition		= DIA_Leren_OldNote_Condition;
	information		= DIA_Leren_OldNote_Info;
	permanent		= 0;
	important		= 0;
	description		= "Znalaz≥em coú starego i cuchnπcego..."; 
};

FUNC INT DIA_Leren_OldNote_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Rodney_OldNote))&&(NPC_HasItems(other,ork_oldnote)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_OldNote_Info()
{
	AI_Output (other, self, "DIA_Leren_OldNote_15_01"); //Znalaz≥em coú starego i cuchnπcego...
	AI_Output (self, other, "DIA_Leren_OldNote_11_02"); //O czym Ty mÛwisz?
	AI_Output (other, self, "DIA_Leren_OldNote_15_03"); //I pomyúla≥em, øe moøe rzucisz na to okiem.
	AI_Output (self, other, "DIA_Leren_OldNote_11_04"); //Co to jest?
	AI_Output (other, self, "DIA_Leren_OldNote_15_05"); //Rozsypujπcy siÍ pergamin...
	AI_Output (self, other, "DIA_Leren_OldNote_11_06"); //Ostroønie! Pokaø papier.
	
   B_GiveInvItems(other,self,ork_oldnote,1);
	B_UseFakeScroll(self);
	
   AI_Output (self, other, "DIA_Leren_OldNote_11_07"); //Ciekawe... To wczesna mroczna mowa.
	AI_Output (other, self, "DIA_Leren_OldNote_15_08"); //Co to znaczy?
	AI_Output (self, other, "DIA_Leren_OldNote_11_09"); //To pismo orkÛw. Ale nawet jak na nich bardzo toporne. W sumie to piktogramy.
	AI_Output (other, self, "DIA_Leren_OldNote_15_10"); //Potrafisz je odczytaÊ?
	AI_Output (self, other, "DIA_Leren_OldNote_11_11"); //Pewnie, ale wiÍkszoúÊ wyblak≥a.
	AI_Output (self, other, "DIA_Leren_OldNote_11_12"); //Orkowy dowÛdca zdoby≥ ludzkπ osadÍ. Ten znaczek, nie znam go...
	AI_Output (self, other, "DIA_Leren_OldNote_11_13"); //To moøe oznaczaÊ fortel, albo podstÍp... 
	AI_Output (self, other, "DIA_Leren_OldNote_11_14"); //Wynika z tego, øe zdobyli ludzkie sadyby z pomocπ zdrajcy.
	AI_Output (self, other, "DIA_Leren_OldNote_11_15"); //To ciekawe. Co za cz≥owiek chcia≥by pomagaÊ orkom?
	AI_Output (other, self, "DIA_Leren_OldNote_15_16"); //Co dalej?
	AI_Output (self, other, "DIA_Leren_OldNote_11_17"); //W sumie niewiele. Jest jakaú nazwa... Orgh'Athogn.
	AI_Output (self, other, "DIA_Leren_OldNote_11_18"); //Hmm. Mgliste WzgÛrze, albo jakaú wynios≥a budowla we mgle.
	AI_Output (other, self, "DIA_Leren_OldNote_15_19"); //Moøe Wieøa Mgie≥?
	AI_Output (self, other, "DIA_Leren_OldNote_11_20"); //ByÊ moøe. Nic wiÍcej... O cholera! List ca≥kiem siÍ rozsypa≥.
	AI_Output (other, self, "DIA_Leren_OldNote_15_21"); //No to úwietnie. Ale chyba wiem, gdzie moøna znaleüÊ WieøÍ Mgie≥.
	AI_Output (other, self, "DIA_Leren_OldNote_15_22"); //DziÍki za pomoc, Leren.
	
   B_LogEntry(CH3_RBL_RodneyHelp, "Lerenowi uda≥o siÍ odczytaÊ skrawek pergaminu, zanim ca≥kiem siÍ rozpad≥. Wieki temu orkowie zdobyli ludzkπ osadÍ z pomocπ zdrajcy spoúrÛd ludzi. W tekúcie przewinÍ≥a siÍ teø nazwa podobna do Wieøy Mgie≥. Ciekawe tylko, czego mam tam szukaÊ?");

	/*********************************

Ork tutaj wypada≥oby wsadziÊ pana Roderica do wieøy mgie≥. I pamietaj, øe ma byÊ on tylko miÍdzy 22 a 4

************************************/
	Wld_InsertNpc(Roderic,"OW_FOGTOWER_TOP");
};

// **************************************************

INSTANCE DIA_Leren_Rodney (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 19;
	condition		= DIA_Leren_Rodney_Condition;
	information		= DIA_Leren_Rodney_Info;
	permanent		= 0;
	important		= 0;
	description		= "Chcia≥em porozmawiaÊ o inicjacji Rodneya."; 
};

FUNC INT DIA_Leren_Rodney_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Rodney_Sword))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Rodney_Info()
{
	AI_Output (other, self, "DIA_Leren_Rodney_15_01"); //Chcia≥em porozmawiaÊ o inicjacji Rodneya.
	AI_Output (self, other, "DIA_Leren_Rodney_11_02"); //Wiem, øe mu pomagasz. 
	AI_Output (other, self, "DIA_Leren_Rodney_15_03"); //A ja wiem, øe przymkniesz na to oko.
	AI_Output (self, other, "DIA_Leren_Rodney_11_04"); //A niby dlaczego?

	Info_ClearChoices (DIA_Leren_Rodney);
	Info_AddChoice (DIA_Leren_Rodney, "A dlaczego nie?", DIA_Leren_Rodney_Want);
	
	if (DICK_CHOOSE == 1)
	{
		Info_AddChoice (DIA_Leren_Rodney, "Bo jestem jednym z was!", DIA_Leren_Rodney_Mag);
	}
	else
	{
		Info_AddChoice (DIA_Leren_Rodney, "Sporo wam pomog≥em.", DIA_Leren_Rodney_Help);
	};
	
   Info_AddChoice (DIA_Leren_Rodney, "Pomaga≥em przyjacielowi.", DIA_Leren_Rodney_Should);
};

// ---------------------------mag----------------------------------------

FUNC VOID DIA_Leren_Rodney_Mag()
{
	B_GiveXP(250);	
	rodney_mag = TRUE;
	
   AI_Output (other, self, "DIA_Leren_Rodney_Mag_15_01"); //Bo jestem jednym z was!
	AI_Output (self, other, "DIA_Leren_Rodney_Mag_11_02"); //Hmm, moøe i jesteú, ale zbyt krÛtko, aby...
	AI_Output (other, self, "DIA_Leren_Rodney_Mag_15_03"); //To, øe nie noszÍ szaty maga od kilku lat nie oznacza, øe jestem od was gorszy.
	AI_Output (self, other, "DIA_Leren_Rodney_Mag_11_04"); //Nie to chcia≥em powiedzieÊ...
	AI_Output (other, self, "DIA_Leren_Rodney_Mag_15_05"); //A ja chcia≥em powiedzieÊ, øe ta rozmowa zaczyna mnie nuøyÊ. A kiedy siÍ niecierpliwiÍ mam brzydki zwyczaj wydobywaÊ miecz...
	AI_Output (self, other, "DIA_Leren_Rodney_Mag_11_06"); //Nie musisz zniøaÊ siÍ do tak prostackich uwag!
	AI_Output (other, self, "DIA_Leren_Rodney_Mag_15_07"); //WiÍc?
	AI_Output (self, other, "DIA_Leren_Rodney_Mag_11_08"); //Dobra, uznajmy, øe Rodney pomyúlnie zakoÒczy≥ inicjacjÍ. Powiedz mu, øe moøe przyjúÊ po szatÍ i runÍ.
	AI_Output (other, self, "DIA_Leren_Rodney_Mag_15_09"); //Tylko to chcia≥em us≥yszeÊ.
	
   B_LogEntry(CH3_RBL_RodneyHelp, "Leren ≥askawie uzna≥ inicjacjÍ Rodneya za pomyúlnie zakoÒczonπ.");
	B_StopProcessInfos(self);
};

// ---------------------------help----------------------------------------

FUNC VOID DIA_Leren_Rodney_Help()
{
	B_GiveXP(250);	
	rodney_mag = TRUE;
	AI_Output (other, self, "DIA_Leren_Rodney_Help_15_01"); //Sporo wam pomog≥em.
	AI_Output (self, other, "DIA_Leren_Rodney_Help_11_02"); //Wiem o tym.

	if (Npc_KnowsInfo (hero, DIA_Leren_Mag1)) 
	{
		AI_Output (other, self, "DIA_Leren_Rodney_Help_15_03"); //Zdoby≥em dla Ciebie zorzÍ.
	};

	if (Npc_KnowsInfo (hero, DIA_Leren_LastThreeFinish1)) 
	{
		AI_Output (other, self, "DIA_Leren_Rodney_Help_15_04"); //Pomog≥em Wam z Tritetrπ!
	};
   
	AI_Output (other, self, "DIA_Leren_Rodney_Help_15_05"); //Czy moje zas≥ugi nie wystarczπ na to, abyúcie zaufali Rodneyowi? RÍczÍ za niego!
	AI_Output (self, other, "DIA_Leren_Rodney_Help_11_06"); //Dobra juø, dobra. Uznajmy, øe Rodney pomyúlnie zakoÒczy≥ inicjacjÍ. Powiedz mu, øe moøe przyjúÊ po szatÍ i runÍ.
	AI_Output (other, self, "DIA_Leren_Rodney_Help_15_07"); //Tylko to chcia≥em us≥yszeÊ.

	B_LogEntry(CH3_RBL_RodneyHelp, "Leren ≥askawie uzna≥ inicjacjÍ Rodneya za pomyúlnie zakoÒczonπ.");
	B_StopProcessInfos(self);
};

// ---------------------------should----------------------------------------

FUNC VOID DIA_Leren_Rodney_Should()
{
	AI_Output (other, self, "DIA_Leren_Rodney_Should_15_01"); //Pomaga≥em przyjacielowi.
	AI_Output (self, other, "DIA_Leren_Rodney_Should_11_02"); //To zacne pobudki, ale co mnie to obchodzi?
	AI_Output (self, other, "DIA_Leren_Rodney_Should_11_03"); //Jeøeli Rodney chce zostaÊ jednym z nas, musi wykazaÊ siÍ nie tylko sprytem, ale takøe odwagπ i poúwiÍceniem.
	AI_Output (self, other, "DIA_Leren_Rodney_Should_11_04"); //Przecieø nie bÍdziesz mu ze wszystkim pomaga≥! A z sikaniem sam sobie radzi?
	AI_Output (self, other, "DIA_Leren_Rodney_Should_11_05"); //Nie odpowiadaj! To by≥o pytanie retoryczne...

	Info_ClearChoices (DIA_Leren_Rodney);
	Info_AddChoice (DIA_Leren_Rodney, "A dlaczego nie?", DIA_Leren_Rodney_Want);
	
	if (DICK_CHOOSE == 1)
	{
		Info_AddChoice (DIA_Leren_Rodney, "Bo jestem jednym z was!", DIA_Leren_Rodney_Mag);
	}
	else
	{
		Info_AddChoice (DIA_Leren_Rodney, "Sporo wam pomog≥em.", DIA_Leren_Rodney_Help);
	};
};

// ---------------------------want----------------------------------------

FUNC VOID DIA_Leren_Rodney_Want()
{
	AI_Output (other, self, "DIA_Leren_Rodney_Want_15_01"); //A dlaczego nie?
	AI_Output (self, other, "DIA_Leren_Rodney_Want_11_02"); //Nie rÛb z siebie idioty. 
	AI_Output (self, other, "DIA_Leren_Rodney_Want_11_03"); //Chociaøby dlatego, øe musi dowieúÊ swojej przydatnoúci i zaradnoúci.
	
   Info_ClearChoices (DIA_Leren_Rodney);

	if (DICK_CHOOSE == 1)
	{
		Info_AddChoice (DIA_Leren_Rodney, "Bo jestem jednym z was!", DIA_Leren_Rodney_Mag);
	}
	else
	{
		Info_AddChoice (DIA_Leren_Rodney, "Sporo wam pomog≥em.", DIA_Leren_Rodney_Help);
	};
   
	Info_AddChoice (DIA_Leren_Rodney, "Pomaga≥em przyjacielowi.", DIA_Leren_Rodney_Should);
};

// **************************************************

var int leren_read;

INSTANCE DIA_Leren_RuneSwd (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 20;
	condition		= DIA_Leren_RuneSwd_Condition;
	information		= DIA_Leren_RuneSwd_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_RuneSwd_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Leren_Rodney))&&(rodney_mag == TRUE)&&(NPC_HasItems(other,ItMw_2H_RuneSWD_01)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_RuneSwd_Info()
{
	AI_Output (self, other, "DIA_Leren_RuneSwd_11_01"); //Nie tak szybko! A co z artefaktem?
	AI_Output (other, self, "DIA_Leren_RuneSwd_15_02"); //Mam go przy sobie.
	
   AI_UnequipWeapons(other);
	EquipItem(other,ItMw_2H_RuneSWD_01);
   AI_DrawWeapon(other);
	AI_PlayAni(other, "T_1HSINSPECT");
	AI_RemoveWeapon(other);
	
   AI_Output (self, other, "DIA_Leren_RuneSwd_11_03"); //Miecz øywio≥Ûw! Zwπ go teø mieczem runicznym albo mieczem Boskiej TrÛjcy.
	AI_Output (other, self, "DIA_Leren_RuneSwd_15_04"); //Sporo o nim wiesz.
	AI_Output (self, other, "DIA_Leren_RuneSwd_11_05"); //Myúla≥em, øe to tylko legenda...
	AI_Output (self, other, "DIA_Leren_RuneSwd_11_06"); //Ten miecz jest potÍøniejszy niø Uriziel.
	AI_Output (other, self, "DIA_Leren_RuneSwd_15_07"); //W tej chwili nie wyglπda za dobrze.
	AI_Output (self, other, "DIA_Leren_RuneSwd_11_08"); //MuszÍ przejrzeÊ ksiÍgi... Dbaj o ostrze, a ja dowiem siÍ, jak przywrÛciÊ mu dawnπ úwietnoúÊ.
	
   leren_read = B_SetDayTolerance()+2;
	Log_CreateTopic(CH4_GRD_RuneSwd, LOG_MISSION);
	Log_SetTopicStatus(CH4_GRD_RuneSwd, LOG_RUNNING);
	B_LogEntry(CH4_GRD_RuneSwd, "Miecz, ktÛry zdoby≥em to legendarne ostrze, zwane mieczem runicznym. Leren obieca≥, øe dowie siÍ czegoú wiÍcej. MuszÍ z nim porozmawiaÊ za jakiú czas.");
	B_StopProcessInfos(self);
   
   if (NPC_HasItems(other,ItMw_2H_RuneSWD_01)>1)
   {
      Npc_RemoveInvItems(other, ItMw_2H_RuneSWD_01, 1);
   };
};

INSTANCE DIA_Leren_RuneSwd1 (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 21;
	condition		= DIA_Leren_RuneSwd1_Condition;
	information		= DIA_Leren_RuneSwd1_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_RuneSwd1_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Leren_RuneSwd))&&(NPC_HasItems(other,ItMw_2H_RuneSWD_01)>=1)&&(leren_read <= (Wld_GetDay()))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_RuneSwd1_Info()
{
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_01"); //Znalaz≥em sposÛb, ale to nie bÍdzie ≥atwe.
	AI_Output (other, self, "DIA_Leren_RuneSwd1_15_02"); //Tego siÍ domyúlam. 
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_03"); //Miecz runiczny zosta≥ stworzony na o≥tarzu kaødego z trzech bogÛw.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_04"); //Dodatkowo sk≥ada siÍ z trzech nierozerwalnych elementÛw konsekrowanych w rÛønych úwiπtyniach.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_05"); //Ostrze poúwiÍcono Innosowi.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_06"); //Jelec, Beliarowi.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_07"); //A osadzony w rÍkojeúci klejnot, Adanosowi.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_08"); //W zasadzie ten miecz to jedyny artefakt skupiajπcy w sobie moce wszystkich bogÛw!
	AI_Output (other, self, "DIA_Leren_RuneSwd1_15_09"); //To úwietnie, ale mnie g≥Ûwnie interesuje, jak moøna przywrÛciÊ ostrzu dawnπ úwietnoúÊ.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_10"); //Musisz znaleüÊ wyznawcÍ kaødego z bogÛw. Jeøeli o Innosa chodzi, to ja siÍ tego podejmÍ. Co do Adanosa to poszukaj magÛw wody - jak ich znam, to gdzieú tu siÍ jeszcze chowajπ.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_11"); //Gorzej bÍdzie z Beliarem. Hmm, mÛg≥byú sprÛbowaÊ porozmawiaÊ z Xardasem, ma wieøÍ gdzieú na terenach orkÛw.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_12"); //Ale on nie lubi nieproszonych goúci.
	AI_Output (other, self, "DIA_Leren_RuneSwd1_15_13"); //I co dalej?
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_14"); //Trzej kap≥ani wyznajπcy rÛønych bogÛw, muszπ przeprowadziÊ rytua≥ odrodzenia ostrza.
	AI_Output (other, self, "DIA_Leren_RuneSwd1_15_15"); //Rozumiem.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_16"); //To jeszcze nie wszystko. Do przeprowadzenia rytua≥u potrzebny jest specjalny almanach. I to jest w≥aúnie najwiÍkszy problem.
	AI_Output (self, other, "DIA_Leren_RuneSwd1_11_17"); //Musisz poszukaÊ tego inkunabu≥u. Jest duøa szansa, øe znajduje siÍ gdzieú w Kolonii. W koÒcu ostrze wykuto na wyspie Khorinis.
	AI_Output (other, self, "DIA_Leren_RuneSwd1_15_18"); //Dobrze, poszukam tej ksiÍgi.
	
   B_LogEntry(CH4_GRD_RuneSwd, "Istnieje sposÛb na przywrÛcenie ostrzu dawnej úwiÍtoúci. Naleøy odprawiÊ rytua≥ za poúrednictwem wyznawcÛw Adanosa, Innosa i Beliara. Ale najpierw muszÍ odnaleüÊ 'Almanach odrodzenia', dziÍki ktÛremu magowie poznajπ procedurÍ rytua≥u.");
   
   Wld_InsertItem(ItArRuneTeleport3, "DT_E1_06");
};

INSTANCE DIA_Leren_RuneSwdBack (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 22;
	condition		= DIA_Leren_RuneSwdBack_Condition;
	information		= DIA_Leren_RuneSwdBack_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_RuneSwdBack_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Bern_First))&&(Npc_KnowsInfo (hero, DIA_Leren_RuneSwd1))&&(NPC_HasItems(other,ItMw_2H_RuneSWD_01)>=1)&&(Npc_GetDistToNpc(self,hero) < 1000)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_RuneSwdBack_Info()
{
	B_FullStop (hero);
	AI_TurnToNpc(self, other);
	AI_GotoNpc(other,self);
   
   Black_mag_arrived = true;
	
   AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_01"); //Masz miecz?!
	AI_Output (other, self, "DIA_Leren_RuneSwdBack_15_02"); //Tak, odzyska≥em ostrze. Jeden samobÛjca ukrad≥ miecz i przeprowadzi≥ z nim jednoosobowπ inwazjÍ na tereny orkÛw.
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_03"); //Innos nad Tobπ czuwa≥! Czy ostrze siÍ zmieni≥o?
	AI_Output (other, self, "DIA_Leren_RuneSwdBack_15_04"); //Jest parzπco zimne i bardziej popÍkane. Wyglπda jakby siÍ... postarza≥o o kilka wiekÛw.
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_05"); //To wp≥yw jednego z bogÛw. Wydaje mi siÍ, øe rÛwnowaga si≥ zosta≥a zak≥Ûcona.
	AI_Output (other, self, "DIA_Leren_RuneSwdBack_15_06"); //Co to oznacza?
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_07"); //W Kolonii pojawi≥ siÍ czarny mag, albo jakiú potÍøny nekromanta.
	AI_Output (other, self, "DIA_Leren_RuneSwdBack_15_08"); //Tylko mi nie mÛw, øe z powodu miecza dobrowolnie przeszed≥ przez barierÍ?
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_09"); //Obawiam siÍ, øe w≥aúnie tak by≥o. Ten miecz moøe byÊ zarÛwno zwiastunem nieszczÍúcia jak i odkupicielem win.
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_10"); //Jestem teø pewien, øe ten nekromanta moøe wiedzieÊ coú wiÍcej o almanachu.
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_11"); //Musisz go odnaleüÊ i dowiedzieÊ siÍ wszystkiego, co tylko zdo≥asz.
	AI_Output (other, self, "DIA_Leren_RuneSwdBack_15_12"); //Gdzie mam go szukaÊ?
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_13"); //Tego niestety nie wiem. Ten sukinsyn úwietnie siÍ maskuje. Ale bπdü ostroøny, miejsce, ktÛre wybra≥, moøe byÊ najeøone straszliwymi niebezpieczeÒstwami.
	AI_Output (self, other, "DIA_Leren_RuneSwdBack_11_14"); //I nie lekcewaø tego maga. Na wyspie Khorinis ukryto gdzieú jednπ z czterech úwiπtyÒ poúwiÍconych Beliarowi. BliskoúÊ takiego miejsca moøe zwielokrotniÊ moc nekromanty.
	AI_Output (other, self, "DIA_Leren_RuneSwdBack_15_15"); //Bez obaw, poradzÍ sobie. Bywaj.
	
   B_LogEntry(CH4_GRD_RuneSwd, "W Kolonii pojawi≥ siÍ kolejny nekromanta. Leren twierdzi, øe to w≥aúnie miecz go tu úciπgnπ≥. MuszÍ odnaleüÊ tego maga i dowiedzieÊ siÍ, czy nie wie, gdzie jest 'Almanach odrodzenia'.");
	
	Log_CreateTopic(CH4_Nec_BM, LOG_MISSION);
	Log_SetTopicStatus(CH4_Nec_BM, LOG_RUNNING);
	B_LogEntry(CH4_Nec_BM, "W Kolonii pojawi≥ siÍ jakiú nekromanta, muszÍ go odnaleüÊ. Kto wie, jeøeli przywiÛd≥ go tu miecz runiczny, to moøe bÍdzie wiedzia≥, gdzie znaleüÊ almanach?");

	B_StopProcessInfos(self);

	/***********************
	Ork dobrze by≥oby, øeby dopiero teraz nekro pojawi≥ siÍ w grze, moøe niech siÍ otworzy jakieú przejúcie: g≥az, krata, ktÛre wczeúniej by≥y zyamkniÍte. Moøe dodaÊ przed tym wejúciem kilka martwych cia≥ ludzi - wczeúniej ich nie by≥o.
	Gracz by siÍ w ten sposÛb skapnπ≥ gdzie jest nekro
	***********************/
};

INSTANCE DIA_Leren_Almanach (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 23;
	condition		= DIA_Leren_Almanach_Condition;
	information		= DIA_Leren_Almanach_Info;
	permanent		= 0;
	important		= 0;
	description		= "Znalaz≥em almanach!"; 
};

FUNC INT DIA_Leren_Almanach_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Necro_Swd))&&(NPC_HasItems(other,almanach_res)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Almanach_Info()
{
	AI_Output (other, self, "DIA_Leren_Almanach_15_01"); //Znalaz≥em almanach!
	AI_Output (self, other, "DIA_Leren_Almanach_11_02"); //Nie sπdzi≥em, øe to w ogÛle moøliwe. 
	AI_Output (other, self, "DIA_Leren_Almanach_15_03"); //Mia≥eú racjÍ. Inkunabu≥ spoczywa≥ w bibliotece nekromanty. TrochÍ siÍ namÍczy≥em, øeby go zdobyÊ.
	AI_Output (self, other, "DIA_Leren_Almanach_11_04"); //Czyta≥eú ksiÍgÍ?
	
   if (alman_read == TRUE)
	{
		AI_Output (other, self, "DIA_Leren_Almanach_15_05"); //Tak, ale nic nie zrozumia≥em z tego be≥kotu. To jakiú archaiczny jÍzyk.
	}
	else
	{
		AI_Output (other, self, "DIA_Leren_Almanach_15_06"); //Nie, wolÍ nie psuÊ sobie oczu s≥owem pisanym.
	};
	
   AI_Output (self, other, "DIA_Leren_Almanach_11_07"); //To ciekawe... Daj mi inkunabu≥, niech no na niego rzucÍ okiem.
	B_GiveInvItems (other, self, almanach_res, 1);
	
	/******************************
	Ork da siÍ to zrobiÊ z ksiÍgπ?
	*******************************/

	B_UseFakeScroll(self);
	AI_Output (self, other, "DIA_Leren_Almanach_11_08"); //Ten jÍzyk to staroøytne glify, lub raczej piktogramy. Na pewno nie sπ dzie≥em cz≥owieka, choÊ noúnik jakim jest ksiÍga, wyglπda na ludzkie rzemios≥o. 
	AI_Output (self, other, "DIA_Leren_Almanach_11_09"); //Dziwne...
	AI_Output (other, self, "DIA_Leren_Almanach_15_10"); //Dasz radÍ odczytaÊ almanach?
	AI_Output (self, other, "DIA_Leren_Almanach_11_11"); //SprÛbujÍ, ale to nie bÍdzie ≥atwe. WrÛÊ za kilka dni, wtedy dam Ci ostatecznπ odpowiedü.
	AI_Output (other, self, "DIA_Leren_Almanach_15_12"); //Powodzenia Leren, to dla mnie bardzo waøne.
	AI_Output (self, other, "DIA_Leren_Almanach_11_13"); //Nie tylko dla Ciebie, przyjacielu.
	
   B_LogEntry(CH4_GRD_RuneSwd, "Odda≥em almanach Lerenowi. Mag nie mÛg≥ go odczytaÊ, wolumin zapisano jakimú staroøytnym pismem. Mam wrÛciÊ za kilka dni, wtedy dowiem siÍ, czy mag w ogÛle da radÍ poznaÊ procedurÍ rytua≥u.");
	leren_read = B_SetDayTolerance()+3;//3 dni w koÒcu to nie jest takie proste
};

INSTANCE DIA_Leren_AlmanachRead (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 24;
	condition		= DIA_Leren_AlmanachRead_Condition;
	information		= DIA_Leren_AlmanachRead_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_AlmanachRead_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Leren_Almanach))&&(leren_read <= (Wld_GetDay()))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_AlmanachRead_Info()
{
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_01"); //Ta ksiÍga jest niesamowita!
	AI_Output (other, self, "DIA_Leren_AlmanachRead_15_02"); //To znaczy?
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_03"); //Sam almanach odrodzenia i zawarta w nim formu≥a to niezwykle z≥oøony czar.
	AI_Output (other, self, "DIA_Leren_AlmanachRead_15_04"); //Czar?
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_05"); //Tak, juø to t≥umaczÍ.
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_06"); //Almanach dostraja siÍ do tego, kto go przeczyta. I w zaleønoúci od rasy tego, kto go czyta eksponuje innπ formu≥Í na przywrÛcenie ostrzu dawnej potÍgi.
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_07"); //W naszym przypadku procedura rytua≥u zosta≥a zapisana w jÍzyku... jaszczuroludzi!
	AI_Output (other, self, "DIA_Leren_AlmanachRead_15_08"); //Dlaczego?
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_09"); //Wydaje mi siÍ, øe ksiÍga zosta≥a ob≥oøona czarem, ktÛry celowo moøliwie mocno utrudnia rozwik≥anie tajemnicy przywrÛcenia ostrzu dawnej úwietnoúci. 
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_10"); //W sumie to doúÊ logiczna konkluzja, lepiej, øeby na≥adowane ostrze nie trafi≥o w rÍce jakiegoú szaleÒca!
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_11"); //Jaszczuroludzi nie widziano tu juø od wiekÛw. W dodatku uøyte tu piktogramy to jÍzyk archaiczny, a tym pos≥ugiwali siÍ tylko pradawni przodkowie tej rasy i do tego tylko uczeni w piúmie, ktÛrych by≥o naprawdÍ niewielu.
	AI_Output (other, self, "DIA_Leren_AlmanachRead_15_12"); //Czyli wszystko stracone?
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_13"); //Niezupe≥nie. Ten kto rzuci≥ czar, nie doceni≥ moich zdolnoúci lingwistycznych i zwyczajnego przypadku.
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_14"); //Nowicjat up≥ynπ≥ mi na wyspie Risen. Tam nadal mieszkajπ jaszczuroludzie. Z tym, øe rasa zosta≥a zasymilowana przez zamieszkujπcych wyspÍ gÛrnikÛw i osadnikÛw.
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_15"); //Ludzie i jaszczurki øyjπ tam w idealnej harmonii! Tam teø pozna≥em jÍzyk wÍøowatych, a do tego dialekt uczonych, ktÛry pod wieloma wzglÍdami jest bardzo podobny do tego z almanachu.
	AI_Output (other, self, "DIA_Leren_AlmanachRead_15_16"); //Uff, czyli mam sporo szczÍúcia.
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_17"); //WπtpiÍ, przyjacielu. Moim zdaniem nic nie dzieje siÍ bez powodu. Nie wierzÍ w przypadek. Los po prostu chcia≥, abym to w≥aúnie ja pomÛg≥ Ci odczytaÊ almanach.
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_18"); //Zresztπ niewaøne. Wszystko co zdo≥a≥em odczytaÊ, spisa≥em na tym pergaminie. 
	AI_Output (self, other, "DIA_Leren_AlmanachRead_11_19"); //RzuÊ okiem na kartkÍ i wtedy znowu porozmawiamy.
	
   CreateInvItems (self,alm_log,1);
	B_GiveInvItems (self, other, alm_log, 1);
	Log_CreateTopic(CH4_RBL_Rirual, LOG_MISSION);
	Log_SetTopicStatus(CH4_RBL_Rirual, LOG_RUNNING);
	B_LogEntry(CH4_RBL_Rirual, "Leren odczyta≥ z almanachu, øe aby przywrÛciÊ mieczowi runicznemu dawnπ moc, naleøy przeprowadziÊ bardzo skomplikowany rytua≥.");

	Log_SetTopicStatus(CH4_RBL_Almanach, LOG_SUCCESS);
	B_LogEntry(CH4_RBL_Almanach, "Leren zdo≥a≥ odczytaÊ almanach. Teraz muszÍ zdobyÊ wszystkie przedmioty niezbÍdne do przeprowadzenia rytua≥u.");
	B_StopProcessInfos(self);
};

INSTANCE DIA_Leren_AlmanachReadAfter (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 25;
	condition		= DIA_Leren_AlmanachReadAfter_Condition;
	information		= DIA_Leren_AlmanachReadAfter_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_AlmanachReadAfter_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Leren_AlmanachRead))&&(alm_log_read == TRUE)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_AlmanachReadAfter_Info()
{
	AI_Output (self, other, "DIA_Leren_AlmanachReadAfter_11_01"); //Wiem, co CiÍ niepokoi. Sam siÍ zastanawia≥em co to za kryszta≥y. Rozmawia≥em o tym z Miltenem i chyba pozna≥em odpowiedü.
	AI_Output (other, self, "DIA_Leren_AlmanachReadAfter_15_02"); //Ca≥y zamieniam siÍ w s≥uch.
	AI_Output (self, other, "DIA_Leren_AlmanachReadAfter_11_03"); //Najlepiej jak sam zapytasz Miltena. BÍdÍ tu na Ciebie czeka≥.
	
   B_LogEntry(CH4_RBL_Rirual, "Leren twierdzi, øe Milten wie, co to za gwiezdne kryszta≥y sπ potrzebne do zniszczenia serca Bestii. MuszÍ natychmiast z nim porozmawiaÊ.");
};

INSTANCE DIA_Leren_Beast (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 26;
	condition		= DIA_Leren_Beast_Condition;
	information		= DIA_Leren_Beast_Info;
	permanent		= 0;
	important		= 0;
	description		= "Rozmawia≥em z Miltenem."; 
};

FUNC INT DIA_Leren_Beast_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Milten_Cristals))&&(Npc_KnowsInfo (hero, DIA_Leren_AlmanachReadAfter))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Beast_Info()
{
	AI_Output (other, self, "DIA_Leren_Beast_15_01"); //Rozmawia≥em z Miltenem.
	AI_Output (self, other, "DIA_Leren_Beast_11_02"); //Czyli wiesz juø czego i gdzie szukaÊ. Sam musisz odnaleüÊ kamienie ogniskujπce, w tym nikt Ci nie pomoøe.
	AI_Output (other, self, "DIA_Leren_Beast_15_03"); //Ale gdzie szukaÊ Bestii?
	AI_Output (self, other, "DIA_Leren_Beast_11_04"); //Niestety na bagnach.
	AI_Output (other, self, "DIA_Leren_Beast_15_05"); //Dlaczego niestety?
	AI_Output (self, other, "DIA_Leren_Beast_11_06"); //Bo z≥o, ktÛre tam zamieszka≥o, aø przyt≥acza swπ mocπ. Nie zazdroszczÍ Ci przyjacielu...
	AI_Output (self, other, "DIA_Leren_Beast_11_07"); //Czeka CiÍ walka jakiej jeszcze øaden úmiertelnik nie stoczy≥. W kaødym razie ja nie znam nikogo tak g≥upiego, kto dobrowolnie rzuci≥by wyzwanie tak przeraøajπcej istocie.
	AI_Output (other, self, "DIA_Leren_Beast_15_08"); //DziÍki za s≥owa otuchy i wiarÍ w moje moøliwoúci. Czas nagli, ruszam na bagna.
	AI_Output (self, other, "DIA_Leren_Beast_11_09"); //Nie tak szybko! Øeby pokonaÊ z≥o, z ktÛrym zamierzasz walczyÊ, najpierw musisz je poznaÊ i zrozumieÊ.
	AI_Output (self, other, "DIA_Leren_Beast_11_10"); //Niedawno z bagien wrÛci≥ Lester. Porozmawiaj z nim, on wie ca≥kiem sporo o Bestii.
	AI_Output (self, other, "DIA_Leren_Beast_11_11"); //Dam Ci dobrπ radÍ - mniej poúpiechu, wiÍcej taktyki. Moøe wtedy d≥uøej poøyjesz.
	AI_Output (other, self, "DIA_Leren_Beast_15_12"); //Nikt nie øyje wiecznie, magu.
	
   Log_CreateTopic(CH4_RBL_Beast, LOG_MISSION);
	Log_SetTopicStatus(CH4_RBL_Beast, LOG_RUNNING);
	B_LogEntry(CH4_RBL_Beast, "Bestia, ktÛrej serce mam zniszczyÊ, zamieszkuje bagna. WiÍcej o tej istocie dowiem siÍ od Lestera, ktÛry niedawno przyby≥ do obozu.");
	B_LogEntry(CH4_RBL_Rirual, "BestiÍ znajdÍ na bagnach, ale najpierw powinienem porozmawiaÊ z Lesterem.");
   
   Wld_InsertNpc (PC_Psionic,"PATCHH");
	Wld_InsertNpc (Gur_1203_BaalTondral,"GO");
};

INSTANCE DIA_Leren_BeastDead (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 27;
	condition		= DIA_Leren_BeastDead_Condition;
	information		= DIA_Leren_BeastDead_Info;
	permanent		= 0;
	important		= 0;
	description		= "Oto serce Bestii!"; 
};

FUNC INT DIA_Leren_BeastDead_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Lester_FightEnd))&&(NPC_HasItems(other,beast_heart)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_BeastDead_Info()
{
	AI_Output (other, self, "DIA_Leren_BeastDead_15_01"); //Oto serce Bestii!
	AI_Output (self, other, "DIA_Leren_BeastDead_11_02"); //Nie sπdzi≥em, øe jakikolwiek úmiertelnik zdo≥a tego dokonaÊ...
	B_GiveInvItems (other, self, beast_heart, 1);
	Npc_RemoveInvItems(self,beast_heart,1);
	B_LogEntry(CH4_RBL_Rirual, "Odda≥em Lerenowi serce Bestii.");
};

INSTANCE DIA_Leren_StonesGive (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 28;
	condition		= DIA_Leren_StonesGive_Condition;
	information		= DIA_Leren_StonesGive_Info;
	permanent		= 0;
	important		= 0;
	description		= "Zdoby≥em kamienie ogniskujπce."; 
};

FUNC INT DIA_Leren_StonesGive_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Milten_Stones))&&(NPC_HasItems(other,Focus_2)>=1)&&(NPC_HasItems(other,Focus_3)>=1)&&(NPC_HasItems(other,Focus_4)>=1)&&(NPC_HasItems(other,Focus_5)>=1)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_StonesGive_Info()
{
	AI_Output (other, self, "DIA_Leren_StonesGive_15_01"); //Zdoby≥em kamienie ogniskujπce.
	AI_Output (self, other, "DIA_Leren_StonesGive_11_02"); //Wiedzia≥em, øe sobie poradzisz. Daj mi je.
   
	B_GiveInvItems (other, self, Focus_2, 1);
	B_GiveInvItems (other, self, Focus_3, 1);
	B_GiveInvItems (other, self, Focus_4, 1);
	B_GiveInvItems (other, self, Focus_5, 1);
	Npc_RemoveInvItems(self,Focus_2,1);
	Npc_RemoveInvItems(self,Focus_3,1);
	Npc_RemoveInvItems(self,Focus_4,1);
	Npc_RemoveInvItems(self,Focus_5,1);
   
	AI_Output (other, self, "DIA_Leren_StonesGive_15_03"); //Milten zsynchronizowa≥ kamienie, teraz mamy wiÍkszπ szansÍ na powodzenie rytua≥u.
	AI_Output (self, other, "DIA_Leren_StonesGive_11_04"); //Milten dzia≥a mi na nerwy, ale czasami okazuje siÍ bardzo przydatny.
	AI_Output (self, other, "DIA_Leren_StonesGive_11_05"); //Jest jak wrzÛd na ty≥ku, do ktÛrego cz≥owiek najpierw siÍ przyzwyczaja, a pÛüniej nie potrafi bez niego øyÊ.
	B_LogEntry(CH4_RBL_Rirual, "Odda≥em Lerenowi kamienie ogniskujπce.");
};

INSTANCE DIA_Leren_Ritual (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 29;
	condition		= DIA_Leren_Ritual_Condition;
	information		= DIA_Leren_Ritual_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_Ritual_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Leren_StonesGive))&&(Npc_KnowsInfo (hero, DIA_Leren_BeastDead))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Ritual_Info()
{
	AI_Output (self, other, "DIA_Leren_Ritual_11_01"); //Mamy juø wszystko co potrzebne do przeprowadzenia rytua≥u.
	AI_Output (other, self, "DIA_Leren_Ritual_15_02"); //To úwietnie. Co mam robiÊ?
	AI_Output (self, other, "DIA_Leren_Ritual_11_03"); //Powiadom tych, ktÛrzy, prÛcz mnie, muszπ uczestniczyÊ w rytuale, aby przybyli do kamiennego krÍgu na bagnach - tam odprawimy inkantacjÍ.
	AI_Output (self, other, "DIA_Leren_Ritual_11_04"); //Ja wyruszÍ juø teraz. Pospiesz siÍ, bo nie chcÍ tkwiÊ tam d≥uøej niø to konieczne.
	
   AI_PlayAni(other,"T_YES");
	B_LogEntry(CH4_RBL_Rirual, "Moøna juø rozpoczπÊ rytua≥ przywrÛcenie mocy mieczowi runicznemu. Leren bÍdzie czeka≥ na pozosta≥ych magÛw przy kamiennym krÍgu na bagnach. MuszÍ natychmiast poinformowaÊ Xardasa i maga wody.");
	Npc_ExchangeRoutine(self, "RITUAL");
	B_StopProcessInfos(self);
};

INSTANCE DIA_Leren_RitualBegin (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				=30;
	condition		= DIA_Leren_RitualBegin_Condition;
	information		= DIA_Leren_RitualBegin_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_RitualBegin_Condition()
{
	if (NPC_HasItems(hero,ItMw_2H_RuneSWD_01)>=1) && (Npc_KnowsInfo (hero, DIA_Leren_Ritual))
   &&((Npc_KnowsInfo (hero, Info_Xardas_Ritual))||(Npc_KnowsInfo (hero, Info_Nekroman_RitualBegin)))
   &&((satur_ritual) || (Npc_KnowsInfo (hero, Info_Myxir_Ritual)))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_RitualBegin_Info()
{
	var C_NPC xar; xar = Hlp_GetNpc(Kdf_404_Xardas);
	var C_NPC sat; sat = Hlp_GetNpc(KDW_600_Saturas);
	var C_NPC myx; myx = Hlp_GetNpc(KDW_601_Myxir);
	var C_NPC nek; nek = Hlp_GetNpc(DMB_1700_Necro);

	B_FullStop (hero);
	AI_TurnToNpc(self, other);
	AI_GotoNpc(other,self);
   AI_UnequipWeapons(other);
   Give_and_remove(ItMw_2H_RuneSWD_01, 1);
   
	AI_Output (self, other, "DIA_Leren_RitualBegin_11_01"); //Wszyscy juø sπ. Czas rozpoczπÊ rytua≥. StaÒ w bezpiecznej odleg≥oúci i nie przeszkadzaj.
	AI_Output (other, self, "DIA_Leren_RitualBegin_15_02"); //Oczywiúcie, w koÒcu to Ty jesteú 'wielkim' magiem.

	B_LogEntry(CH4_RBL_Rirual, "Rytua≥ siÍ rozpoczπ≥.");
	B_StopProcessInfos(self);

   if (satur_ritual)
   {
      Npc_ExchangeRoutine	(sat, "RITUAL1");
   }
   else
   {
      Npc_ExchangeRoutine	(myx, "RITUAL1");
   };
	
	if(Npc_KnowsInfo (hero, Info_Xardas_Ritual))
	{
		Npc_ExchangeRoutine	(xar, "RITUAL1");
	};
	if(Npc_KnowsInfo (hero, Info_Nekroman_RitualBegin))
	{
		Npc_ExchangeRoutine	(nek, "RITUAL1");
	};

	Npc_ExchangeRoutine	(self, "RITUAL1");

	AI_PlayAni(self,"T_PRACTICEMAGIC4");

	/***********************
Ork zrÛb to jak chcesz, ale nie bÍdzie fajne. Moja propozycja.
1. Magowie podchodzÍ do okreúlonych WP wokÛ≥ o≥atarza w krÍgu
2. Miecz umieszczony jest na o≥tarzu a kamienia na oko≥o.
3. Rozpoczyna siÍ rytua≥.
4. PO zakoÒczeniu na≥πdowany miecz niech zostanie na o≥tarzu, Dick sam go sobie zabierze.
5. Na koÒcu ustaw zmiennπ ritual_end na true a magowie odchodzπ do swych startowych rutyn.

***********************/
};

INSTANCE DIA_Leren_RitualEnd (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 30;
	condition		= DIA_Leren_RitualEnd_Condition;
	information		= DIA_Leren_RitualEnd_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_RitualEnd_Condition()
{
   if ((Npc_KnowsInfo (hero, Info_Nekroman_RitualEnd))||(Npc_KnowsInfo (hero, Info_Xardas_RitualEnd)))&&(Npc_GetDistToNpc(self,hero) < 2500)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_RitualEnd_Info()
{
   if (satur_ritual)
   {
      var C_NPC sat; sat = Hlp_GetNpc(KDW_600_Saturas);
      Npc_ExchangeRoutine	(sat, "START");
   }
   else
   {
      var C_NPC myx; myx = Hlp_GetNpc(KDW_601_Myxir);
      Npc_ExchangeRoutine	(myx, "START");
   };
   
   var int random; random = Hlp_Random(6);
	B_FullStop (hero);
	AI_TurnToNpc(self, other);
	AI_GotoNpc(self, hero);
	AI_Output (self, other, "DIA_Leren_RitualEnd_11_01"); //Uda≥o siÍ! To niesamowite, taka moc...
	AI_Output (other, self, "DIA_Leren_RitualEnd_15_02"); //Co z mieczem?
	AI_Output (self, other, "DIA_Leren_RitualEnd_11_03"); //Spoczywa na o≥tarzu, nie úmia≥em go tknπÊ.
	AI_Output (other, self, "DIA_Leren_RitualEnd_15_04"); //Jestem twoim d≥uønikiem, Leren.
	AI_Output (self, other, "DIA_Leren_RitualEnd_11_05"); //Nie ma o czym mÛwiÊ. Skop kilka straøniczych dup i bÍdziemy kwita.
	AI_Output (self, other, "DIA_Leren_RitualEnd_11_06"); //Aha. Nie wiem, czy to CiÍ zainteresuje, ale w Nowym Obozie coú siÍ dzieje. Podobno Lee chce poprowadziÊ swoich ludzi do walki ze straønikami.
	AI_Output (other, self, "DIA_Leren_RitualEnd_15_07"); //Na to w≥aúnie czeka≥em! DziÍki Leren.

   if (random == 0)
   {
      Wld_InsertItem(ItMw_2H_RuneSWD_01, "PSI_TELEPORT");
   }
   else if (random == 1)
   {
      Wld_InsertItem(ItMw_2H_RuneSWD_DARK, "PSI_TELEPORT");
   }
   else if (random == 2)
   {
      Wld_InsertItem(ItMw_2H_RuneSWD_FIRE, "PSI_TELEPORT");
   }
   else if (random == 3)
   {
      Wld_InsertItem(ItMw_2H_RuneSWD_LIGHT, "PSI_TELEPORT");
   }
   else if (random == 4)
   {
      Wld_InsertItem(ItMw_2H_RuneSWD_WATER, "PSI_TELEPORT");
   }
   else
   {
      Wld_InsertItem(ItMw_2H_RuneSWD_PSI, "PSI_TELEPORT");
   };

	Log_SetTopicStatus(CH4_RBL_Rirual, LOG_SUCCESS);
	B_LogEntry(CH4_RBL_Rirual, "Rytua≥ dobieg≥ koÒca. Miecz czeka na mnie na o≥tarzu. Juø nie mogÍ siÍ doczekaÊ, kiedy poznam moc orÍøa.");
	B_LogEntry(CH4_RBL_NCRebel, "Podobno Lee w koÒcu podjπ≥ decyzjÍ. Czas zobaczyÊ jak wyglπda sytuacja w Nowym Obozie.");
	B_Kapitelwechsel(5);	 	
   
   Npc_ExchangeRoutine(self, "START");
	/*************************************
Ork odpal tu funkcjÍ odpowiedzialnπ za rebeliÍ Hrabiego i bunt w Nowym obozie:
1. Orle Gniazdo zostaje odciÍte, jest oblegane przez straønikÛw wiernych Gomezowi i Fletcherowi.
2. Lares i jego ludzie wyrønÍli straønikÛw na polach ryøowych. Tam teø ma siÍ znaleüÊ Lee i jego ludzie od magÛw wody a takøe Cronos jeøeli nadal øyje.
3. W Kotle Wilk ze swoimi ludümi wycofa≥ siÍ tam gdzie w podstawce mieszkali magowie. Wilk i jego ludzie odparli kilka atakÛw straønikÛw.
4. W kopalni albo raczej przed jej wejúciem straønicy szykujπ siÍ do ostatecznego udeøenia.

Sporo tego, ale ma byÊ widaÊ zmiany, chodzi g≥Ûwnie o zmiany rutyn, trochÍ trupÛw, etc. Musi byÊ jak najbardziej realistycznie. Jak dasz radÍ dodaÊ trochÍ modeli, np. barykada w przejúciu do magÛw wody tam gdzie jest Wilk to by≥oby ok.

***********************************/
};

INSTANCE DIA_Leren_SwdUse (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 30;
	condition		= DIA_Leren_SwdUse_Condition;
	information		= DIA_Leren_SwdUse_Info;
	permanent		= 0;
	important		= 0;
	description		= "Jak uøywa siÍ mocy miecza?"; 
};

FUNC INT DIA_Leren_SwdUse_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Leren_RitualEnd))
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_SwdUse_Info()
{
	AI_Output (other, self, "DIA_Leren_SwdUse_15_01"); //Jak siÍ uøywa mocy miecza?
	AI_Output (self, other, "DIA_Leren_SwdUse_11_02"); //To proste. Osadzasz w jelcu runÍ, z ktÛrej mocy ma korzystaÊ ostrze.
	AI_Output (self, other, "DIA_Leren_SwdUse_11_03"); //WyprÛbuj rÛøne runy, jestem pewien, øe kaøda da inny efekt w po≥πczeniu z tym potÍønym artefaktem.
	AI_Output (other, self, "DIA_Leren_SwdUse_15_04"); //DziÍki, Leren.
	
   Log_SetTopicStatus(CH4_GRD_RuneSwd, LOG_SUCCESS);
	B_LogEntry(CH4_GRD_RuneSwd, "Miecz runiczny odzyska≥ swπ moc! MogÍ na≥adowaÊ ostrze dowolnπ runπ, osadzajπc runÍ w jelcu miecza. Juø nie mogÍ siÍ doczekaÊ eksperymentÛw z ostrzem!");
};

INSTANCE DIA_Leren_Appear (C_INFO)
{
	npc				= mag_1604_Leren;
	nr				= 31;
	condition		= DIA_Leren_Appear_Condition;
	information		= DIA_Leren_Appear_Info;
	permanent		= 0;
	important		= 1;
	description		= ""; 
};

FUNC INT DIA_Leren_Appear_Condition()
{
	if (Npc_KnowsInfo (hero, DIA_Leren_RitualEnd))&&(Npc_GetDistToNpc(self,hero) < 2500)
	{
		return 1;
	};
};

FUNC VOID DIA_Leren_Appear_Info()
{
	B_FullStop (hero);
	AI_TurnToNpc(self, other);
	AI_GotoNpc(other,self);
   
	AI_Output (self, other, "DIA_Leren_Appear_11_01"); //Aha. Zapomnia≥em jeszcze o jednym drobnym szczegÛle. Mia≥em Ci o tym nie mÛwiÊ, bo pewnie to tylko üle przet≥umaczony urywek almanachu wprowadzi≥ mnie w b≥πd...
	AI_Output (other, self, "DIA_Leren_Appear_15_02"); //Coú mi siÍ wydaje, øe zaraz gorzko poøa≥ujÍ tej niewiedzy.
	AI_Output (self, other, "DIA_Leren_Appear_11_03"); //Raczej nie. Jak odszed≥eú zabawiÊ siÍ z Bestiπ, doczyta≥em w almanachu, øe po zniszczeniu serca dusze tych, ktÛrzy zostali zniewoleni przez BestiÍ powrÛcπ.
	AI_Output (self, other, "DIA_Leren_Appear_11_04"); //Oczywiúcie powrÛcπ nie tylko pod eteralnπ postaciπ. Ale jak sam widzisz, nic siÍ nie dzieje, wiÍc...
	AI_Output (self, other, "DIA_Leren_Appear_11_05"); //O cholera, coú wyczuwam...
	AI_Output (self, other, "DIA_Leren_Appear_11_06"); //Nie powinno mnie tu byÊ. Nie daj siÍ zabiÊ!
	/**************************
Ork tak chcia≥bym, øeby to wyglπda≥o.
0. Leren i reszta magÛw ma stamtπd uciec jak najszybciej, moøe mdla na sprint im zmieÒ, tylko dick ma zostaÊ.
1. Najazd kamerkπ gdzieú w pobliøe krÍgu.
2. Rozb≥ysk w miejscu gdzie pojawi siÍ 1 jaszczur. W tym samym momencie taka fala odrzutu, albo trzÍsienie ziemi, øeby Dick upad≥ - niech go fajnie odrzuci.
3. Po tej pierwszej jaszczurce niech siÍ pojawiπ kolejne w rozb≥yskach.
4. Ta 1 jaszczura ma podejúÊ do Dicka i zagaiÊ rozmowÍ.

**************************/

//************Jaszczury

	Wld_InsertNpc(Liz_4092_Hesstad, "PATH_NEW_AROUND_PSI21");
	Wld_InsertNpc(Draco1, "PATH_NEW_AROUND_PSI20");
	Wld_InsertNpc(Draco2, "PATH_NEW_AROUND_PSI17");

	Npc_ExchangeRoutine(self, "START");
	Log_CreateTopic(CH5_NON_Lizard, LOG_MISSION);
	Log_SetTopicStatus(CH5_NON_Lizard, LOG_RUNNING);
	B_LogEntry(CH5_NON_Lizard, "Zniszczenie serca Bestii uwolni≥o uwiÍzione tam dusze jaszczuroludzi!");
	B_StopProcessInfos(self);
   
   Leren_teleport_after_ritual = true;
};
