// ************************ EXIT **************************

instance  STT_Balam_Exit (C_INFO)
{
	npc			=  STT_324_Balam;
	nr			=  999;
	condition	=  STT_Balam_Exit_Condition;
	information	=  STT_Balam_Exit_Info;
	important	= 0;	
	permanent	= 1;
	description = DIALOG_ENDE;
};                       

FUNC int STT_Balam_Exit_Condition()
{
	return 1;
};

FUNC VOID  STT_Balam_Exit_Info()
{
	B_StopProcessInfos(self);
};

// ***************** Infos *****************************

instance  STT_Balam_Hello (C_INFO)
{
	npc				= STT_324_Balam;
	condition		= STT_Balam_Hello_Condition;
	information		= STT_Balam_Hello_Info;
	important		= 0;
	permanent		= 0;
	description		= "Witam."; 
};

FUNC int  STT_Balam_Hello_Condition()
{
	return 1;
};

FUNC void  STT_Balam_Hello_Info()
{
	AI_Output (other, self,"STT_Balam_Hello_Info_15_01"); //Witam.
	AI_Output (self, other,"STT_Balam_Hello_Info_07_02"); //Zejdü mi z oczu. Mam pe≥ne rÍce roboty!
	B_StopProcessInfos	(self);	
};  

// ***************** diego find *****************************

instance  STT_Balam_Again (C_INFO)
{
	npc				= STT_324_Balam;
	condition		= STT_Balam_Again_Condition;
	information		= STT_Balam_Again_Info;
	important		= 1;
	permanent		= 0;
	description		= "."; 
};

FUNC int  STT_Balam_Again_Condition()
{
	if (Npc_KnowsInfo(hero,STT_Balam_Hello))&&(Npc_KnowsInfo(hero,DIA_Urt_Buddler))&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_Again_Info()
{	
	AI_Output (self, other,"STT_Balam_Again_Info_07_01"); //Zaraz... Ty nie jesteú straønikiem, znam ich wszystkich, a Twoja morda nijak mi nie pasuje do tej zbroi.
	AI_Output (self, other,"STT_Balam_Again_Info_07_02"); //Kim Ty do cholery jesteú?
	AI_Output (other, self,"STT_Balam_Again_Info_15_03"); //Zagram w otwarte karty. Przyby≥em z obozu rebeliantÛw...
	AI_Output (self, other,"STT_Balam_Again_Info_07_04"); //Ciszej cz≥owieku!
	AI_PlayAni ( self, "T_SEARCH");
	AI_TurnToNpc (self, other);
	AI_Output (self, other,"STT_Balam_Again_Info_07_05"); //Po jakπ cholerÍ tutaj przylaz≥eú? Øycie Ci niemi≥e? I dlaczego nie mia≥bym zawo≥aÊ straønikÛw?
	AI_Output (other, self,"STT_Balam_Again_Info_15_06"); //Mam zamiar z Twojπ pomocπ przekonaÊ cienie, øeby w decydujπcym momencie stanÍli po naszej stronie.
	AI_Output (self, other,"STT_Balam_Again_Info_07_07"); //W decydujπcym momencie? Co Ty gadasz? Chyba nie chcesz mi powiedzieÊ, øe rebelianci planujπ atak na Stary ObÛz? To by≥oby szaleÒstwo i skrajny idiotyzm!
	AI_Output (other, self,"STT_Balam_Again_Info_15_08"); //Najlepszπ obronπ jest atak, a my nie mamy wyboru. PrzejÍliúmy Starπ KopalniÍ...
	AI_Output (self, other,"STT_Balam_Again_Info_07_09"); //Na jaja Beliara, Gomeza pewnie juø krew zalewa. Zaczynasz mi siÍ podobaÊ ch≥opcze. MÛw dalej.
	AI_Output (other, self,"STT_Balam_Again_Info_15_10"); //Straønicy nied≥ugo uderzπ na nasz obÛz, zdajemy sobie sprawÍ, øe nie mielibyúmy szans. Atak na Starπ KopalniÍ przyspieszy decyzjÍ Gomeza i da nam wiÍkszπ szansÍ na atak z zaskoczenia.
	AI_Output (other, self,"STT_Balam_Again_Info_15_11"); //Sami nie pokonamy straønikÛw, jednak majπc przy boku cienie zniszczymy magnatÛw!
	AI_Output (self, other,"STT_Balam_Again_Info_07_12"); //Hmm, plan nieg≥upi, ale powiem szczerze, øe cienie mnie nie pos≥uchajπ.
	AI_Output (self, other,"STT_Balam_Again_Info_07_13"); //Za to co mi powiedzia≥eú, Gomez by mnie oz≥oci≥. Ale bez obaw, bÍdÍ trzyma≥ jÍzyk za zÍbami. To nasza wspÛlna szansa...
	AI_Output (self, other,"STT_Balam_Again_Info_07_14"); //Jest jednak ktoú komu cienie ufajπ bezgranicznie i za kim pÛjdπ w ogieÒ.
	AI_Output (other, self,"STT_Balam_Again_Info_15_15"); //Kto to?
	AI_Output (self, other,"STT_Balam_Again_Info_07_16"); //To Diego. Twardy z niego sukinsyn. Jednak po ataku na magÛw ognia juø nie pojawi≥ siÍ w obozie.
	AI_Output (other, self,"STT_Balam_Again_Info_15_17"); //W takim razie muszÍ z nim porozmawiaÊ. Gdzie go znajdÍ?
	AI_Output (self, other,"STT_Balam_Again_Info_07_18"); //Nie mam bladego pojÍcia. Ale rozejrzyj siÍ po Kolonii, pewnie gdzieú siÍ zaszy≥ i czeka na lepsze czasy.
	AI_Output (self, other,"STT_Balam_Again_Info_07_19"); //Powiedz mu, øe Balam przesy≥a pozdrowienia. Powiedz teø, øe jesteúmy gotowi, øeby nas poprowadzi≥.
	AI_Output (self, other,"STT_Balam_Again_Info_07_20"); //Aha i Diego musi pokazaÊ siÍ w obozie, inaczej cienie nie uwierzπ w to, øe wrÛci≥.
	AI_Output (other, self,"STT_Balam_Again_Info_15_21"); //Dobra, zobaczÍ co da siÍ zrobiÊ.
	
   WLD_InsertNPC(PC_Thief,"OC1");
	B_LogEntry		(CH3_RBL_Shadows, "Rozmawia≥em z Balamem. Kucharz powiedzia≥ mi, øe tylko Diego jest w stanie przekonaÊ cienie do walki przeciwko straønikom. MuszÍ znaleüÊ Diego i namÛwiÊ go na powrÛt do obozu.");
	B_StopProcessInfos	(self);	
};  

// ******************************************

instance  STT_Balam_Diego (C_INFO)
{
	npc				= STT_324_Balam;
	condition		= STT_Balam_Diego_Condition;
	information		= STT_Balam_Diego_Info;
	important		= 0;
	permanent		= 0;
	description		= "Znalaz≥em Diego."; 

};

FUNC int  STT_Balam_Diego_Condition()
{
	if (Npc_KnowsInfo(hero,Info_Diego_Rebel))&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_Diego_Info()
{
	AI_Output (other, self,"STT_Balam_Diego_Info_15_01"); //Znalaz≥em Diego.
	AI_Output (self, other,"STT_Balam_Diego_Info_07_02"); //To úwietnie. Teraz go przyprowadü!
	AI_Output (other, self,"STT_Balam_Diego_Info_15_03"); //To nie takie proste. Najpierw muszÍ znaleüÊ na to jakiú sposÛb. 
	AI_Output (self, other,"STT_Balam_Diego_Info_07_04"); //W takim razie poúpiesz siÍ do cholery! Mamy coraz mniej czasu...
	AI_Output (self, other,"STT_Balam_Diego_Info_07_05"); //Jak tylko coú wymyúlisz, to daj mi znaÊ.
	//TODO:/CORRECT: Crappy dialog added by orc
	AI_Output (self, other,"STT_Balam_Diego_Info_07_06"); //Poczekaj! Mam pomys≥.
	AI_Output (self, other,"STT_Balam_Diego_Info_07_07"); //Magowie ognia potrafili teleportowaÊ siÍ poza mury zamku i wrÛciÊ kiedy przysz≥a im na to ochota.
	AI_Output (self, other,"STT_Balam_Diego_Info_07_08"); //Niestety Gomez wszystkich zarønπ≥.
	AI_Output (other, self,"STT_Balam_Diego_Info_15_09"); //Chyba jednak nie wszystkich, wiem gdzie znaleüÊ jednego z nich.
	AI_Output (self, other,"STT_Balam_Diego_Info_07_10"); //W takim razie powodzenia.
	B_LogEntry		(CH3_RBL_Shadows, "Znalaz≥em sposÛb na przemycenie Diego do Starego Obozu. MuszÍ porozmawiaÊ z Miltenem, moøe zosta≥a mu jakaú runa teleportacyjna.");
	B_StopProcessInfos	(self);	
};  

// *********************************************

instance  STT_Balam_DiegoCome (C_INFO)
{
	npc				= STT_324_Balam;
	condition		= STT_Balam_DiegoCome_Condition;
	information		= STT_Balam_DiegoCome_Info;
	important		= 1;
	permanent		= 0;
	description		= "."; 
};

FUNC int  STT_Balam_DiegoCome_Condition()
{
	if (Npc_KnowsInfo(hero,Info_Diego_Entrence))&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_DiegoCome_Info()
{
	AI_Output (self, other,"STT_Balam_DiegoCome_Info_07_01"); //Przyprowadzi≥eú Diego?
	AI_Output (other, self,"STT_Balam_DiegoCome_Info_15_02"); //Tak, nied≥ugo powinien do Ciebie zajrzeÊ.
	AI_Output (self, other,"STT_Balam_DiegoCome_Info_07_03"); //No to nadszed≥ czas na zmiany.
	AI_Output (self, other,"STT_Balam_DiegoCome_Info_07_04"); //Teraz cienie na pewno wezmπ udzia≥ w buncie.
	AI_Output (self, other,"STT_Balam_DiegoCome_Info_07_05"); //åwietna robota.
	Log_SetTopicStatus	(CH3_RBL_Shadows, LOG_SUCCESS);
	B_LogEntry		(CH3_RBL_Shadows, "Diego jest juø w obozie. Balam jest pewien, øe zdo≥a przekonaÊ cienie do walki z Gomezem.");
	B_LogEntry(CH3_RBL_OldCampSpy, "Cienie sπ z nami!");
	
	B_StopProcessInfos	(self);	
};

// *********************************************
// CHAPTER 6
instance  STT_Balam_Spy (C_INFO)
{
	npc				= STT_324_Balam;
	condition		= STT_Balam_Spy_Condition;
	information		= STT_Balam_Spy_Info;
	important		= 0;
	permanent		= 0;
	description		= "Jak wyglπda sytuacja?"; 
};

FUNC int  STT_Balam_Spy_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Urt_DiegoJail))&&(Npc_KnowsInfo(hero,STT_Balam_DiegoCome))&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_Spy_Info()
{
	AI_Output (other, self,"STT_Balam_Spy_Info_15_01"); //Jak wyglπda sytuacja?
	AI_Output (self, other,"STT_Balam_Spy_Info_07_02"); //èle.
	AI_Output (self, other,"STT_Balam_Spy_Info_07_03"); //Dorwali Diego. Cienie straci≥y pewnoúÊ siebie i poszli w rozsypkÍ. WπtpiÍ, øe chociaø co drugi chwyci za miecz, kiedy uderzymy na straønikÛw. 
	AI_Output (self, other,"STT_Balam_Spy_Info_07_04"); //Nie wiem jak kopacze. Jakiú skurwiel musia≥ wypaplaÊ straønikom, øe Diego wrÛci≥.
	AI_Output (self, other,"STT_Balam_Spy_Info_07_05"); //Musimy znaleüÊ i uciszyÊ tÍ gnidÍ jak najszybciej!
	AI_Output (other, self,"STT_Balam_Spy_Info_15_06"); //Tu siÍ z tobπ zgadzam.
	AI_DrawWeapon (hero);
	AI_Output (self, other,"STT_Balam_Spy_Info_07_07"); //Schowaj øelazo, to nie ja idioto! Jaki mia≥bym w tym interes?
	AI_Output (other, self,"STT_Balam_Spy_Info_15_08"); //Tylko Ty i Urt wiedzieliúcie o powrocie Diego. W sumie to by≥ TwÛj pomys≥. Masz sta≥y kontakt z magnatami. Mam mÛwiÊ dalej?
	AI_Output (self, other,"STT_Balam_Spy_Info_07_09"); //Wiem, jak to wyglπda, ale czasami pod latarniπ jest najciemniej. Nie ufam Urtowi, ta jego 'szlachetna' walka to tylko pozory. Wiem, co mÛwiÍ.
	AI_RemoveWeapon (hero);
	AI_Output (other, self,"STT_Balam_Spy_Info_15_10"); //Skπd te podejrzenia?
	AI_Output (self, other,"STT_Balam_Spy_Info_07_11"); //Znam kogoú, kto zna≥ Urta przed tym jak trafi≥ do Kolonii. Kiedyú pogadaliúmy sobie od serca, by≥em wtedy jeszcze szkodnikiem w Nowym Obozie.
	AI_Output (other, self,"STT_Balam_Spy_Info_15_12"); //Szkodnikiem? To jak trafi≥eú tutaj?
	AI_Output (self, other,"STT_Balam_Spy_Info_07_13"); //Mia≥em juø doúÊ s≥uchania Laresa. A w zamku akurat zwolni≥ siÍ etat kucharza. Zawsze lubi≥em pichciÊ, wiÍc zaryzykowa≥em i nie øa≥ujÍ.
	AI_Output (other, self,"STT_Balam_Spy_Info_15_14"); //SprawdzÍ Twojπ wersjÍ. Kim jest ten znajomy?
	AI_Output (self, other,"STT_Balam_Spy_Info_07_15"); //To Cipher. Znajdziesz go w Nowym Obozie. Nie wiem co teraz robi, ale wiem co rozwiπøe mu jÍzyk. Ziele.
	AI_Output (self, other,"STT_Balam_Spy_Info_07_16"); //Weü ze sobπ coú do palenia, to siÍ dogadacie.
	AI_Output (other, self,"STT_Balam_Spy_Info_15_17"); //Lepiej dla Ciebie, øebyú mÛwi≥ prawdÍ.
	B_LogEntry		(CH6_RBL_Spy, "Sytuacja przybra≥a ciekawy obrÛt. Balam twierdzi, øe zdrajcπ moøe byÊ Urt, w co nie chce mi siÍ wierzyÊ po tym, ile wczeúniej razem zdzia≥aliúmy w Starym Obozie. Nauczy≥em siÍ jednak, øe w Kolonii nikomu nie moøna zaufaÊ. MuszÍ porozmawiaÊ z Cipherem o Urcie. Aha i przyda siÍ ziele dla Ciphera, øeby mu rozwiπzaÊ jÍzyk.");
};

// *********************************************

instance STT_Balam_FeedDiego (C_INFO)
{
	npc				= STT_324_Balam;
	condition		= STT_Balam_FeedDiego_Condition;
	information		= STT_Balam_FeedDiego_Info;
	important		= 0;
	permanent		= 0;
	description		= "Podobno to Ty zanosisz jedzenie do celi Diego?"; 
};

FUNC int STT_Balam_FeedDiego_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Bullit_Guard))
	{
		return 1;
	};
};

FUNC void STT_Balam_FeedDiego_Info()
{
	AI_Output (other, self,"STT_Balam_FeedDiego_Info_15_01"); //Podobno to Ty zanosisz jedzenie do celi Diego?
	AI_Output (self, other,"STT_Balam_FeedDiego_Info_07_02"); //Chyba za karÍ. Jak widzÍ twarz Diego to aø mnie skrÍca. Ale nie mam szans ze straønikiem, poza tym jak byúmy uciekli?
	AI_Output (other, self,"STT_Balam_FeedDiego_Info_15_03"); //Nie ma wiele czasu, Diego wkrÛtce zostanie stracony. Musimy go stamtπd wyrwaÊ, a ja nie mogÍ siÍ krÍciÊ po lochach, øeby nie wzbudziÊ podejrzeÒ.
	AI_Output (self, other,"STT_Balam_FeedDiego_Info_07_04"); //Niby jak mamy to zrobiÊ?
	AI_Output (other, self,"STT_Balam_FeedDiego_Info_15_05"); //Bulit twierdzi, øe straønik zawsze zabiera miÍso, ktÛre zanosisz Diego.
	AI_Output (self, other,"STT_Balam_FeedDiego_Info_07_06"); //To prawda - cholerny øar≥ok.
	AI_Output (other, self,"STT_Balam_FeedDiego_Info_15_07"); //Bardzo dobrze, zach≥annoúÊ go zgubi. Musimy po cichu za≥atwiÊ straønika. Zatrujesz miÍso i zaniesiesz jedzenie do celi Diego.
	AI_Output (other, self,"STT_Balam_FeedDiego_Info_15_08"); //Jakby straønik zapyta≥ siÍ dlaczego o tej porze to powiesz, øe to ostatni posi≥ek skazaÒca.
	AI_Output (other, self,"STT_Balam_FeedDiego_Info_15_09"); //Øe na tÍ okazjÍ przyrzπdzi≥eú specjalne pieczyste z szynki - na pewno siÍ skusi.
	AI_Output (self, other,"STT_Balam_FeedDiego_Info_07_10"); //Nieüle to wymyúli≥eú. Ale nie mam szynki, o truciünie nawet nie wspominajπc.
	AI_Output (other, self,"STT_Balam_FeedDiego_Info_15_11"); //Tym ja siÍ zajmÍ. Nied≥ugo wrÛcÍ z miÍsem i trutkπ, wtedy zabierzesz siÍ za pichcenie.
	
   B_LogEntry(CH6_RBL_Diego, "Balam przyrzπdzi zatrutπ szynkÍ. MuszÍ mu jednak dostarczyÊ miÍso i truciznÍ. Z szynkπ nie powinno byÊ problemÛw, ale trucizna? Hmm, moøe mÛj 'mistrz' mi jakπú odstπpi. Czas nas goni, wiÍc muszÍ siÍ poúpieszyÊ!");
};

// *********************************************

instance  STT_Balam_Ham (C_INFO)
{
	npc				= STT_324_Balam;
	nr				= 10;
	condition		= STT_Balam_Ham_Condition;
	information		= STT_Balam_Ham_Info;
	important		= 0;
	permanent		= 0;
	description		= "Mam szynkÍ."; 
};

FUNC int  STT_Balam_Ham_Condition()
{
	if (Npc_KnowsInfo(hero, STT_Balam_FeedDiego))&&(NPC_HasItems(other,ItFo_mutton_01)>=1)&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_Ham_Info()
{
	AI_Output (other, self,"STT_Balam_Ham_Info_15_01"); //Mam szynkÍ.
	AI_Output (self, other,"STT_Balam_Ham_Info_07_02"); //Zaraz jπ przyrzπdzÍ.
	B_GiveInvItems (other, self, ItFo_mutton_01, 1);
	Npc_RemoveInvItems(self,ItFo_mutton_01,1);
	AI_Output (other, self,"STT_Balam_Ham_Info_15_03"); //Tylko jej nie zjedz.
	AI_Output (self, other,"STT_Balam_Ham_Info_07_04"); //Bez obaw. Zaraz siÍ tym zajmÍ.
	B_LogEntry		(CH6_RBL_Diego, "Odda≥em szynkÍ Balamowi.");
	B_FullStop (hero);
	AI_SetWalkmode (self,NPC_WALK);
	AI_GotoWP	(self, "ROAST");

	/**************************
Ma podejúÊ do patelni, øe niby piecze.

*************************/

	AI_UseMob(self,"PAN",1);	
	B_InterruptMob ("PAN");
	AI_UseMob (self,"PAN",-1);
	B_StopProcessInfos	(self);
};

// *********************************************

instance  STT_Balam_Poison (C_INFO)
{
	npc				= STT_324_Balam;
	nr				= 11;
	condition		= STT_Balam_Poison_Condition;
	information		= STT_Balam_Poison_Info;
	important		= 0;
	permanent		= 0;
	description		= "Weü truciznÍ."; 
};

FUNC int  STT_Balam_Poison_Condition()
{
	if (Npc_KnowsInfo(hero, STT_Balam_FeedDiego))&&((NPC_HasItems(other,ItFo_Potion_Poison)>=1)||(NPC_HasItems(other,ItFo_Nabil_Poison)>=1))&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_Poison_Info()
{
	AI_Output (other, self,"STT_Balam_Poison_Info_15_01"); //Weü truciznÍ.
	AI_Output (self, other,"STT_Balam_Poison_Info_07_02"); //Jak Ty to zdoby≥eú?
	
   if (NPC_HasItems(other,ItFo_Potion_Poison)>=1)
	{
		B_GiveInvItems (other, self, ItFo_Potion_Poison, 1);
		Npc_RemoveInvItems(self,ItFo_Potion_Poison,1);
	}
	else if (NPC_HasItems(other,ItFo_Nabil_Poison)>=1)
	{
		B_GiveInvItems (other, self, ItFo_Nabil_Poison, 1);
		Npc_RemoveInvItems(self,ItFo_Nabil_Poison,1);
	};

	AI_Output (other, self,"STT_Balam_Poison_Info_15_03"); //Niewaøne. Tylko uwaøaj, to zabija szybciej niø cieniostwÛr.
	AI_Output (self, other,"STT_Balam_Poison_Info_07_04"); //BÍdÍ o tym pamiÍta≥.
	B_LogEntry		(CH6_RBL_Diego, "Balam dosta≥ truciznÍ.");
	//B_FullStop (hero);
	//AI_SetWalkmode (self,NPC_WALK);
	//AI_GotoWP	(self, "ROAST");

	/**************************
Ma podejúÊ do patelni, øe niby piecze.
-trucizne piecze? ;d /orc
-nie, ale musi niπ polaÊ miÍs £osiu ;P /sher
*************************/
	/*
		AI_UseMob(self,"PAN",1);	
		B_InterruptMob ("PAN");
		AI_UseMob (self,"PAN",-1);
		B_StopProcessInfos	(self);
*/
};

// *********************************************

instance  STT_Balam_GoDiego (C_INFO)
{
	npc				= STT_324_Balam;
	nr				= 12;
	condition		= STT_Balam_GoDiego_Condition;
	information		= STT_Balam_GoDiego_Info;
	important		= 1;
	permanent		= 0;
	description		= "."; 
};

FUNC int  STT_Balam_GoDiego_Condition()
{
	if (Npc_KnowsInfo(hero,STT_Balam_Poison))&&(Npc_KnowsInfo(hero,STT_Balam_Ham))&&(Npc_GetDistToNpc(self,hero) < 600)&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_GoDiego_Info()
{
	B_FullStop (hero);
	AI_GotoNpc(self, other);
	AI_Output (self, other,"STT_Balam_GoDiego_Info_07_01"); //Mamy juø wszystko. IdÍ.
	AI_Output (other, self,"STT_Balam_GoDiego_Info_15_02"); //Obszukaj cia≥o straønika, musi mieÊ przy sobie klucz do celi.
	AI_Output (other, self,"STT_Balam_GoDiego_Info_15_03"); //Nie baw siÍ w bohatera. Przynieú klucz, a ja zajmÍ siÍ resztπ.
	AI_Output (other, self,"STT_Balam_GoDiego_Info_15_04"); //Tylko nie rzucaj siÍ w oczy.
	AI_Output (self, other,"STT_Balam_GoDiego_Info_07_05"); //PoradzÍ sobie. Czekaj tu na mnie, nied≥ugo bÍdÍ z powrotem.
	B_StopProcessInfos	(self);

	/*************************
Nie musi iúÊ do samej celi, ale niech zniknie Dickowi z oczu i niech to chwilkÍ potrwa zanim wrÛci

*************************/
   AI_SetWalkmode (self, NPC_RUN);
	AI_GotoWP		(self, "OCC_MERCS_ENTRANCE");
	AI_GotoWP		(self, hero.wp);
};

// *********************************************

instance  STT_Balam_GoBackDiego (C_INFO)
{
	npc				= STT_324_Balam;
	nr				= 13;
	condition		= STT_Balam_GoBackDiego_Condition;
	information		= STT_Balam_GoBackDiego_Info;
	important		= 1;
	permanent		= 0;
	description		= "."; 
};

FUNC int  STT_Balam_GoBackDiego_Condition()
{
	if (Npc_KnowsInfo(hero,STT_Balam_GoDiego))&&(Npc_GetDistToNpc(self,hero) < 600)&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_GoBackDiego_Info()
{
	B_FullStop (hero);
	AI_GotoNpc(self, other);
	
   if (diego_dead >= (Wld_GetDay()))
	{

		/********************
Killing straønika øar≥oka

*********************/

		var C_NPC grd; grd = Hlp_GetNpc(Grd_4107_Guard);
		Npc_ChangeAttribute	(grd, ATR_HITPOINTS, -grd.attribute[ATR_HITPOINTS_MAX]);

		AI_Output (self, other,"STT_Balam_GoBackDiego_Info_07_01"); //Cholera, uda≥o siÍ! Pad≥ jak k≥oda.
		AI_Output (other, self,"STT_Balam_GoBackDiego_Info_15_02"); //Obszuka≥eú cia≥o?
		AI_Output (self, other,"STT_Balam_GoBackDiego_Info_07_03"); //Tak, znalaz≥em przy nim klucz.
		CreateInvItems (self,DUNGEONKEY,1);
		B_GiveInvItems (self, other, DUNGEONKEY, 1);
		AI_Output (other, self,"STT_Balam_GoBackDiego_Info_15_04"); //åwietna robota, Balam.
		AI_Output (self, other,"STT_Balam_GoBackDiego_Info_07_05"); //Zrobi≥em to dla Diego. Poúpiesz siÍ.
		B_LogEntry		(CH6_RBL_Diego, "Straønik nie øyje, mam klucz do celi Diego. MuszÍ jak najszybciej go uwolniÊ.");
	}
	else
	{
		var C_NPC thf; thf = Hlp_GetNpc(PC_Thief);
		AI_PlayAni		(thf,	"T_PSI_VICTIM");
		Npc_ChangeAttribute	(thf, ATR_HITPOINTS, -thf.attribute[ATR_HITPOINTS_MAX]);

		AI_Output (self, other,"STT_Balam_GoBackDiego_Info_07_06"); //SpÛüniliúmy siÍ, Diego nie øyje...
		AI_Output (other, self,"STT_Balam_GoBackDiego_Info_15_07"); //Kurwa maÊ! Co teraz?
		AI_Output (self, other,"STT_Balam_GoBackDiego_Info_07_08"); //Cienie na pewno nie pomogπ w rebelii...
		AI_Output (self, other,"STT_Balam_GoBackDiego_Info_07_09"); //Ktoú tu idzie... To straønicy, pewnie przyszli za mnπ...
		Log_SetTopicStatus	(CH6_RBL_Diego, LOG_FAILED);
		B_LogEntry		(CH6_RBL_Diego, "Skrewi≥em, Diego nie øyje...");
		/**********************
Nie wiem czy dodasz kilku nowych grds czy przyjdπ jacyú z obozu, ale niech ich bÍdzie tylu, øeby dick nie mia≥ szans.
Moøesz wykorzystaÊ tych martwych straønikÛw z poprzednich zadaÒ, gracz siÍ nie po≥apie - tu ich instancje:

B_Attack_OC_GuardsGate();

GRD_2514_Guard
GRD_2515_Guard
GRD_2516_Guard
GRD_2517_Guard
GRD_2518_Guard

GRD_4056_Guard
GRD_4057_Guard
GRD_4058_Guard
GRD_4059_Guard
GRD_4060_Guard
GRD_4061_Guard

GRD_4065_Guard
GRD_4066_Guard
GRD_4067_Guard
GRD_4068_Guard


Tylu powinno wystarczyÊ ;P
**********************/

		/*********************
TrochÍ ciulowo bo Diego by≥ w G2 i G3 wiÍc musi przeøyÊ. Moøe niech jednak gracz MUSI go uratowaÊ, øeby nie by≥o niezgodnoúci.
Dlatego doda≥em atak straønikÛw - aha musi ich byÊ tylu, øeby zabiÊ dicka xD

******************/

	};
};

// *********************************************

instance  STT_Balam_Urthos (C_INFO)
{
	npc				= STT_324_Balam;
	nr				= 14;
	condition		= STT_Balam_Urthos_Condition;
	information		= STT_Balam_Urthos_Info;
	important		= 0;
	permanent		= 0;
	description		= "Mia≥eú racjÍ."; 
};

FUNC int  STT_Balam_Urthos_Condition()
{
	if (Npc_KnowsInfo(hero,DIA_Cipher_Urt))&&(Npc_KnowsInfo(hero,DIA_Lee_Urt))&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_Urthos_Info()
{
	AI_Output (other, self,"STT_Balam_Urthos_Info_15_01"); //Mia≥eú racjÍ.
	AI_Output (self, other,"STT_Balam_Urthos_Info_07_02"); //O czym mÛwisz?
	AI_Output (other, self,"STT_Balam_Urthos_Info_15_03"); //Urt to podejrzany typ. Ale muszÍ zdobyÊ niezbite dowody jego zdrady. Na razie musimy taÒczyÊ tak jak nam zagra.
	AI_Output (self, other,"STT_Balam_Urthos_Info_07_04"); //Jestem pewien, øe Diego moøe Ci w tym pomÛc. Ten niby atak i uwiÍzienie Diego to musia≥a byÊ robota Urta.
	AI_Output (other, self,"STT_Balam_Urthos_Info_15_05"); //Moøe masz racjÍ. Diego powinien wiedzieÊ coú wiÍcej.
	
   B_LogEntry		(CH6_RBL_Spy, "Balam trafnie zauwaøy≥, øe powinienem porozmawiaÊ z Diego o Urcie. Moøe on bÍdzie mia≥ konkretny dowÛd zdrady Urthosa.");
};

// *********************************************

instance  STT_Balam_UrthosFinish (C_INFO)
{
	npc				= STT_324_Balam;
	nr				= 15;
	condition		= STT_Balam_UrthosFinish_Condition;
	information		= STT_Balam_UrthosFinish_Info;
	important		= 0;
	permanent		= 0;
	description		= "Uwolni≥em Diego."; 
};

FUNC int  STT_Balam_UrthosFinish_Condition()
{
	if (Npc_KnowsInfo(hero,STT_Balam_Urthos))&&(Npc_KnowsInfo(hero,Info_Diego_Prison))&&(Wld_IsTime (20,00,24,00))
	{
		return 1;
	};
};

FUNC void  STT_Balam_UrthosFinish_Info()
{
	AI_Output (other, self,"STT_Balam_UrthosFinish_Info_15_01"); //Uwolni≥em Diego. Musisz zorganizowaÊ cieni i kopaczy, nied≥ugo zaatakujemy.
	AI_Output (self, other,"STT_Balam_UrthosFinish_Info_07_02"); //Uff, kamieÒ spad≥ mi z pÍcherza. Ba≥em siÍ, øe cienie stracπ zapa≥ do walki. ZajmÍ siÍ wszystkim. Mam nadziejÍ, øe Diego wrÛci kiedy nadejdzie Czas Zap≥aty.
	AI_Output (other, self,"STT_Balam_UrthosFinish_Info_15_03"); //Moøesz byÊ tego pewien. Diego potwierdzi≥ Twoje s≥owa, to Urt od samego poczπtku nas sabotowa≥.
	AI_Output (self, other,"STT_Balam_UrthosFinish_Info_07_04"); //Musisz raz na zawsze pozbyÊ siÍ tego skurwiela! Przez niego zginπ≥ Kelvin i wielu innych porzπdnych ludzi.
	AI_Output (other, self,"STT_Balam_UrthosFinish_Info_15_05"); //Na wszystko przyjdzie w≥aúciwy czas. 
	AI_Output (self, other,"STT_Balam_UrthosFinish_Info_07_06"); //Jak zobaczÍ Urta, to osobiúcie wyprujÍ mu flaki.
	AI_Output (other, self,"STT_Balam_UrthosFinish_Info_15_07"); //Uwaøaj na siebie, Balam.
   
	Log_SetTopicStatus	(CH6_RBL_Spy, LOG_SUCCESS);
	B_LogEntry		(CH6_RBL_Spy, "Tak, Urt zas≥uøy≥ na d≥ugπ i powolnπ úmierÊ, ale na wszystko przyjdzie w≥aúciwy czas.");
	B_LogEntry		(CH6_RBL_Recognise, "Urt nas zdradzi≥, to on doprowadzi≥ do úmierci Kelvina i od poczπtku sterowa≥ naszπ siatkπ w Starym Obozie. Trzeba go raz na zawsze uciszyÊ.");
   
   var c_npc urt; urt = Hlp_GetNPC(RBL_4062_Urt);
	B_ExchangeRoutine(urt, "GONE");
}; 
